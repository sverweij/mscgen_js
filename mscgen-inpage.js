(()=>{var t={8552:(t,e,r)=>{var n=r(852)(r(5639),"DataView");t.exports=n},1989:(t,e,r)=>{var n=r(1789),o=r(401),i=r(7667),a=r(1327),c=r(1866);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=c,t.exports=u},8407:(t,e,r)=>{var n=r(7040),o=r(4125),i=r(2117),a=r(7529),c=r(4705);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=c,t.exports=u},7071:(t,e,r)=>{var n=r(852)(r(5639),"Map");t.exports=n},3369:(t,e,r)=>{var n=r(4785),o=r(1285),i=r(6e3),a=r(9916),c=r(5265);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=c,t.exports=u},3818:(t,e,r)=>{var n=r(852)(r(5639),"Promise");t.exports=n},8525:(t,e,r)=>{var n=r(852)(r(5639),"Set");t.exports=n},6384:(t,e,r)=>{var n=r(8407),o=r(7465),i=r(3779),a=r(7599),c=r(4758),u=r(4309);function s(t){var e=this.__data__=new n(t);this.size=e.size}s.prototype.clear=o,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=c,s.prototype.set=u,t.exports=s},2705:(t,e,r)=>{var n=r(5639).Symbol;t.exports=n},1149:(t,e,r)=>{var n=r(5639).Uint8Array;t.exports=n},577:(t,e,r)=>{var n=r(852)(r(5639),"WeakMap");t.exports=n},6874:t=>{t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},7412:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},4963:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i}},4636:(t,e,r)=>{var n=r(2545),o=r(5694),i=r(1469),a=r(4144),c=r(5776),u=r(6719),s=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=i(t),l=!r&&o(t),d=!r&&!l&&a(t),f=!r&&!l&&!d&&u(t),h=r||l||d||f,p=h?n(t.length,String):[],g=p.length;for(var b in t)!e&&!s.call(t,b)||h&&("length"==b||d&&("offset"==b||"parent"==b)||f&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||c(b,g))||p.push(b);return p}},2488:t=>{t.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}},4865:(t,e,r)=>{var n=r(9465),o=r(7813),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var a=t[e];i.call(t,e)&&o(a,r)&&(void 0!==r||e in t)||n(t,e,r)}},8470:(t,e,r)=>{var n=r(7813);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},4037:(t,e,r)=>{var n=r(8363),o=r(3674);t.exports=function(t,e){return t&&n(e,o(e),t)}},3886:(t,e,r)=>{var n=r(8363),o=r(1704);t.exports=function(t,e){return t&&n(e,o(e),t)}},9465:(t,e,r)=>{var n=r(8777);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},5990:(t,e,r)=>{var n=r(6384),o=r(7412),i=r(4865),a=r(4037),c=r(3886),u=r(4626),s=r(278),l=r(8805),d=r(1911),f=r(8234),h=r(6904),p=r(4160),g=r(3824),b=r(9148),m=r(8517),v=r(1469),x=r(4144),y=r(6688),w=r(3218),_=r(2928),C=r(3674),S=r(1704),A="[object Arguments]",k="[object Function]",j="[object Object]",E={};E[A]=E["[object Array]"]=E["[object ArrayBuffer]"]=E["[object DataView]"]=E["[object Boolean]"]=E["[object Date]"]=E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Map]"]=E["[object Number]"]=E[j]=E["[object RegExp]"]=E["[object Set]"]=E["[object String]"]=E["[object Symbol]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E["[object Error]"]=E[k]=E["[object WeakMap]"]=!1,t.exports=function t(e,r,L,O,T,M){var P,D=1&r,I=2&r,F=4&r;if(L&&(P=T?L(e,O,T,M):L(e)),void 0!==P)return P;if(!w(e))return e;var B=v(e);if(B){if(P=g(e),!D)return s(e,P)}else{var N=p(e),R=N==k||"[object GeneratorFunction]"==N;if(x(e))return u(e,D);if(N==j||N==A||R&&!T){if(P=I||R?{}:m(e),!D)return I?d(e,c(P,e)):l(e,a(P,e))}else{if(!E[N])return T?e:{};P=b(e,N,D)}}M||(M=new n);var H=M.get(e);if(H)return H;M.set(e,P),_(e)?e.forEach((function(n){P.add(t(n,r,L,n,e,M))})):y(e)&&e.forEach((function(n,o){P.set(o,t(n,r,L,o,e,M))}));var W=B?void 0:(F?I?h:f:I?S:C)(e);return o(W||e,(function(n,o){W&&(n=e[o=n]),i(P,o,t(n,r,L,o,e,M))})),P}},3118:(t,e,r)=>{var n=r(3218),o=Object.create,i=function(){function t(){}return function(e){if(!n(e))return{};if(o)return o(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=i},1078:(t,e,r)=>{var n=r(2488),o=r(7285);t.exports=function t(e,r,i,a,c){var u=-1,s=e.length;for(i||(i=o),c||(c=[]);++u<s;){var l=e[u];r>0&&i(l)?r>1?t(l,r-1,i,a,c):n(c,l):a||(c[c.length]=l)}return c}},8866:(t,e,r)=>{var n=r(2488),o=r(1469);t.exports=function(t,e,r){var i=e(t);return o(t)?i:n(i,r(t))}},4239:(t,e,r)=>{var n=r(2705),o=r(9607),i=r(2333),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},9454:(t,e,r)=>{var n=r(4239),o=r(7005);t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},5588:(t,e,r)=>{var n=r(4160),o=r(7005);t.exports=function(t){return o(t)&&"[object Map]"==n(t)}},8458:(t,e,r)=>{var n=r(3560),o=r(5346),i=r(3218),a=r(346),c=/^\[object .+?Constructor\]$/,u=Function.prototype,s=Object.prototype,l=u.toString,d=s.hasOwnProperty,f=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(n(t)?f:c).test(a(t))}},9221:(t,e,r)=>{var n=r(4160),o=r(7005);t.exports=function(t){return o(t)&&"[object Set]"==n(t)}},8749:(t,e,r)=>{var n=r(4239),o=r(1780),i=r(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[n(t)]}},280:(t,e,r)=>{var n=r(5726),o=r(6916),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))i.call(t,r)&&"constructor"!=r&&e.push(r);return e}},313:(t,e,r)=>{var n=r(3218),o=r(5726),i=r(3498),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=o(t),r=[];for(var c in t)("constructor"!=c||!e&&a.call(t,c))&&r.push(c);return r}},5976:(t,e,r)=>{var n=r(6557),o=r(5357),i=r(61);t.exports=function(t,e){return i(o(t,e,n),t+"")}},6560:(t,e,r)=>{var n=r(5703),o=r(8777),i=r(6557),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:i;t.exports=a},2545:t=>{t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},7518:t=>{t.exports=function(t){return function(e){return t(e)}}},4318:(t,e,r)=>{var n=r(1149);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},4626:(t,e,r)=>{t=r.nmd(t);var n=r(5639),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o?n.Buffer:void 0,c=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=c?c(r):new t.constructor(r);return t.copy(n),n}},7157:(t,e,r)=>{var n=r(4318);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},3147:t=>{var e=/\w*$/;t.exports=function(t){var r=new t.constructor(t.source,e.exec(t));return r.lastIndex=t.lastIndex,r}},419:(t,e,r)=>{var n=r(2705),o=n?n.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},7133:(t,e,r)=>{var n=r(4318);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},278:t=>{t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},8363:(t,e,r)=>{var n=r(4865),o=r(9465);t.exports=function(t,e,r,i){var a=!r;r||(r={});for(var c=-1,u=e.length;++c<u;){var s=e[c],l=i?i(r[s],t[s],s,r,t):void 0;void 0===l&&(l=t[s]),a?o(r,s,l):n(r,s,l)}return r}},8805:(t,e,r)=>{var n=r(8363),o=r(9551);t.exports=function(t,e){return n(t,o(t),e)}},1911:(t,e,r)=>{var n=r(8363),o=r(1442);t.exports=function(t,e){return n(t,o(t),e)}},4429:(t,e,r)=>{var n=r(5639)["__core-js_shared__"];t.exports=n},1463:(t,e,r)=>{var n=r(5976),o=r(6612);t.exports=function(t){return n((function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,c=i>2?r[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,c&&o(r[0],r[1],c)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var u=r[n];u&&t(e,u,n,a)}return e}))}},8777:(t,e,r)=>{var n=r(852),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},1957:(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},8234:(t,e,r)=>{var n=r(8866),o=r(9551),i=r(3674);t.exports=function(t){return n(t,i,o)}},6904:(t,e,r)=>{var n=r(8866),o=r(1442),i=r(1704);t.exports=function(t){return n(t,i,o)}},5050:(t,e,r)=>{var n=r(7019);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},852:(t,e,r)=>{var n=r(8458),o=r(7801);t.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},5924:(t,e,r)=>{var n=r(5569)(Object.getPrototypeOf,Object);t.exports=n},9607:(t,e,r)=>{var n=r(2705),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,c=n?n.toStringTag:void 0;t.exports=function(t){var e=i.call(t,c),r=t[c];try{t[c]=void 0;var n=!0}catch(t){}var o=a.call(t);return n&&(e?t[c]=r:delete t[c]),o}},9551:(t,e,r)=>{var n=r(4963),o=r(479),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,c=a?function(t){return null==t?[]:(t=Object(t),n(a(t),(function(e){return i.call(t,e)})))}:o;t.exports=c},1442:(t,e,r)=>{var n=r(2488),o=r(5924),i=r(9551),a=r(479),c=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,i(t)),t=o(t);return e}:a;t.exports=c},4160:(t,e,r)=>{var n=r(8552),o=r(7071),i=r(3818),a=r(8525),c=r(577),u=r(4239),s=r(346),l="[object Map]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",g=s(n),b=s(o),m=s(i),v=s(a),x=s(c),y=u;(n&&y(new n(new ArrayBuffer(1)))!=p||o&&y(new o)!=l||i&&y(i.resolve())!=d||a&&y(new a)!=f||c&&y(new c)!=h)&&(y=function(t){var e=u(t),r="[object Object]"==e?t.constructor:void 0,n=r?s(r):"";if(n)switch(n){case g:return p;case b:return l;case m:return d;case v:return f;case x:return h}return e}),t.exports=y},7801:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},1789:(t,e,r)=>{var n=r(4536);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},401:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:(t,e,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(e,t)?e[t]:void 0}},1327:(t,e,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},1866:(t,e,r)=>{var n=r(4536);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},3824:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var r=t.length,n=new t.constructor(r);return r&&"string"==typeof t[0]&&e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},9148:(t,e,r)=>{var n=r(4318),o=r(7157),i=r(3147),a=r(419),c=r(7133);t.exports=function(t,e,r){var u=t.constructor;switch(e){case"[object ArrayBuffer]":return n(t);case"[object Boolean]":case"[object Date]":return new u(+t);case"[object DataView]":return o(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return c(t,r);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(t);case"[object RegExp]":return i(t);case"[object Symbol]":return a(t)}}},8517:(t,e,r)=>{var n=r(3118),o=r(5924),i=r(5726);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:n(o(t))}},7285:(t,e,r)=>{var n=r(2705),o=r(5694),i=r(1469),a=n?n.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},5776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},6612:(t,e,r)=>{var n=r(7813),o=r(8612),i=r(5776),a=r(3218);t.exports=function(t,e,r){if(!a(r))return!1;var c=typeof e;return!!("number"==c?o(r)&&i(e,r.length):"string"==c&&e in r)&&n(r[e],t)}},7019:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},5346:(t,e,r)=>{var n,o=r(4429),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!i&&i in t}},5726:t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},4125:(t,e,r)=>{var n=r(8470),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0||(r==e.length-1?e.pop():o.call(e,r,1),--this.size,0))}},2117:(t,e,r)=>{var n=r(8470);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},7529:(t,e,r)=>{var n=r(8470);t.exports=function(t){return n(this.__data__,t)>-1}},4705:(t,e,r)=>{var n=r(8470);t.exports=function(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},4785:(t,e,r)=>{var n=r(1989),o=r(8407),i=r(7071);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},1285:(t,e,r)=>{var n=r(5050);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},6e3:(t,e,r)=>{var n=r(5050);t.exports=function(t){return n(this,t).get(t)}},9916:(t,e,r)=>{var n=r(5050);t.exports=function(t){return n(this,t).has(t)}},5265:(t,e,r)=>{var n=r(5050);t.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},4536:(t,e,r)=>{var n=r(852)(Object,"create");t.exports=n},6916:(t,e,r)=>{var n=r(5569)(Object.keys,Object);t.exports=n},3498:t=>{t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},1167:(t,e,r)=>{t=r.nmd(t);var n=r(1957),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o&&n.process,c=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=c},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5569:t=>{t.exports=function(t,e){return function(r){return t(e(r))}}},5357:(t,e,r)=>{var n=r(6874),o=Math.max;t.exports=function(t,e,r){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,c=o(i.length-e,0),u=Array(c);++a<c;)u[a]=i[e+a];a=-1;for(var s=Array(e+1);++a<e;)s[a]=i[a];return s[e]=r(u),n(t,this,s)}}},5639:(t,e,r)=>{var n=r(1957),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();t.exports=i},61:(t,e,r)=>{var n=r(6560),o=r(1275)(n);t.exports=o},1275:t=>{var e=Date.now;t.exports=function(t){var r=0,n=0;return function(){var o=e(),i=16-(o-n);if(n=o,i>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}},7465:(t,e,r)=>{var n=r(8407);t.exports=function(){this.__data__=new n,this.size=0}},3779:t=>{t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},7599:t=>{t.exports=function(t){return this.__data__.get(t)}},4758:t=>{t.exports=function(t){return this.__data__.has(t)}},4309:(t,e,r)=>{var n=r(8407),o=r(7071),i=r(3369);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(t,e),this.size=r.size,this}},346:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},8583:(t,e,r)=>{var n=r(4865),o=r(8363),i=r(1463),a=r(8612),c=r(5726),u=r(3674),s=Object.prototype.hasOwnProperty,l=i((function(t,e){if(c(e)||a(e))o(e,u(e),t);else for(var r in e)s.call(e,r)&&n(t,r,e[r])}));t.exports=l},361:(t,e,r)=>{var n=r(5990);t.exports=function(t){return n(t,5)}},5703:t=>{t.exports=function(t){return function(){return t}}},7813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},5564:(t,e,r)=>{var n=r(1078);t.exports=function(t){return null!=t&&t.length?n(t,1):[]}},6557:t=>{t.exports=function(t){return t}},5694:(t,e,r)=>{var n=r(9454),o=r(7005),i=Object.prototype,a=i.hasOwnProperty,c=i.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(t){return o(t)&&a.call(t,"callee")&&!c.call(t,"callee")};t.exports=u},1469:t=>{var e=Array.isArray;t.exports=e},8612:(t,e,r)=>{var n=r(3560),o=r(1780);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},4144:(t,e,r)=>{t=r.nmd(t);var n=r(5639),o=r(5062),i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,c=a&&a.exports===i?n.Buffer:void 0,u=(c?c.isBuffer:void 0)||o;t.exports=u},3560:(t,e,r)=>{var n=r(4239),o=r(3218);t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},6688:(t,e,r)=>{var n=r(5588),o=r(7518),i=r(1167),a=i&&i.isMap,c=a?o(a):n;t.exports=c},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},2928:(t,e,r)=>{var n=r(9221),o=r(7518),i=r(1167),a=i&&i.isSet,c=a?o(a):n;t.exports=c},6719:(t,e,r)=>{var n=r(8749),o=r(7518),i=r(1167),a=i&&i.isTypedArray,c=a?o(a):n;t.exports=c},3674:(t,e,r)=>{var n=r(4636),o=r(280),i=r(8612);t.exports=function(t){return i(t)?n(t):o(t)}},1704:(t,e,r)=>{var n=r(4636),o=r(313),i=r(8612);t.exports=function(t){return i(t)?n(t,!0):o(t)}},8306:(t,e,r)=>{var n=r(3369);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(o.Cache||n),r}o.Cache=n,t.exports=o},479:t=>{t.exports=function(){return[]}},5062:t=>{t.exports=function(){return!1}},2779:function(t,e,r){var n,o,i;o=[r(8583),r(8615)],void 0===(i="function"==typeof(n=function(t,e){"use strict";function r(t,e,n,o){var i=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(i,r.prototype),i.expected=e,i.found=n,i.location=o,i.name="SyntaxError",i}function n(t,e,r){return r=r||" ",t.length>e?t:(e-=t.length,t+(r+=r.repeat(e)).slice(0,e))}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(r,Error),r.prototype.format=function(t){var e="Error: "+this.message;if(this.location){var r,o=null;for(r=0;r<t.length;r++)if(t[r].source===this.location.source){o=t[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,a=this.location.source+":"+i.line+":"+i.column;if(o){var c=this.location.end,u=n("",i.line.toString().length," "),s=o[i.line-1],l=(i.line===c.line?c.column:s.length+1)-i.column||1;e+="\n --\x3e "+a+"\n"+u+" |\n"+i.line+" | "+s+"\n"+u+" | "+n("",i.column-1," ")+n("",l,"^")}else e+="\n at "+a}return e},r.buildMessage=function(t,e){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e=t.parts.map((function(t){return Array.isArray(t)?i(t[0])+"-"+i(t[1]):i(t)}));return"["+(t.inverted?"^":"")+e.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function a(t){return r[t.type](t)}return"Expected "+function(t){var e,r,n=t.map(a);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},{SyntaxError:r,parse:function(n,o){var i,a,c,u,s={},l=(o=void 0!==o?o:{}).grammarSource,d={program:He},f=He,h=",",p=";",g="=",b=":",m="*",v="{",x="|||",y="...",w="---",_="<<=>>",C="<<>>",S="note",A="abox",k="rbox",j="else",E="break",L="strict",O="critical",T="ignore",M="consider",P="assert",D="loop",I='"',F='\\"',B="*/",N=/^[^;, "\t\n\r=\-><:{*]/,R=/^[ \t]/,H=/^[\r\n]/,W=/^[^\r\n]/,z=/^[0-9]/,G=De(",",!1),V=De(";",!1),X=De("hscale",!0),U=De("arcgradient",!0),q=De("=",!1),$=De("width",!0),Y=De("wordwraparcs",!0),Z=De("wordwrapentities",!0),K=De("wordwrapboxes",!0),J=De("watermark",!0),Q=Fe("entity"),tt=De(":",!1),et=De("*",!1),rt=De("{",!1),nt=De("}",!1),ot=Fe("empty row"),it=De("|||",!1),at=De("...",!1),ct=Fe("---"),ut=De("---",!1),st=Fe("bi-directional arrow"),lt=De("--",!1),dt=De("<->",!1),ft=De("==",!1),ht=De("<<=>>",!1),pt=De("<=>",!1),gt=De("..",!1),bt=De("<<>>",!1),mt=De("::",!1),vt=De("<:>",!1),xt=Fe("left to right arrow"),yt=De("->",!1),wt=De("=>>",!1),_t=De("=>",!1),Ct=De(">>",!1),St=De(":>",!1),At=De("-x",!0),kt=Fe("right to left arrow"),jt=De("<-",!1),Et=De("<<=",!1),Lt=De("<=",!1),Ot=De("<<",!1),Tt=De("<:",!1),Mt=De("x-",!0),Pt=Fe("box"),Dt=De("note",!0),It=De("abox",!0),Ft=De("rbox",!0),Bt=De("box",!0),Nt=Fe("inline expression"),Rt=De("alt",!0),Ht=De("else",!0),Wt=De("opt",!0),zt=De("break",!0),Gt=De("par",!0),Vt=De("seq",!0),Xt=De("strict",!0),Ut=De("neg",!0),qt=De("critical",!0),$t=De("ignore",!0),Yt=De("consider",!0),Zt=De("assert",!0),Kt=De("loop",!0),Jt=De("ref",!0),Qt=De("exc",!0),te=Fe("double quoted string"),ee=De('"',!1),re=De('\\"',!1),ne={type:"any"},oe=Fe("identifier"),ie=Ie([";",","," ",'"',"\t","\n","\r","=","-",">","<",":","{","*"],!0,!1),ae=Fe("whitespace"),ce=Ie([" ","\t"],!1,!1),ue=Fe("lineend"),se=Ie(["\r","\n"],!1,!1),le=De("/*",!1),de=De("*/",!1),fe=De("//",!1),he=De("#",!1),pe=Ie(["\r","\n"],!0,!1),ge=Fe("comment"),be=Fe("number"),me=Ie([["0","9"]],!1,!1),ve=De(".",!1),xe=Fe("boolean"),ye=De("true",!0),we=De("false",!0),_e=De("on",!0),Ce=De("off",!0),Se=De("0",!1),Ae=De("1",!1),ke=Fe("size"),je=De("auto",!0),Ee=function(r,n){return n.entities=hr(n.entities||[],n.arcs),n=t({meta:e.getMetaInfo(n.options,n.arcs)},n),r.length>0&&(n=t({precomment:r},n)),n},Le=0,Oe=[{line:1,column:1}],Te=0,Me=[],Pe=0;if("startRule"in o){if(!(o.startRule in d))throw new Error("Can't start parsing from rule \""+o.startRule+'".');f=d[o.startRule]}function De(t,e){return{type:"literal",text:t,ignoreCase:e}}function Ie(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function Fe(t){return{type:"other",description:t}}function Be(t){var e,r=Oe[t];if(r)return r;for(e=t-1;!Oe[e];)e--;for(r={line:(r=Oe[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return Oe[t]=r,r}function Ne(t,e){var r=Be(t),n=Be(e);return{source:l,start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function Re(t){Le<Te||(Le>Te&&(Te=Le,Me=[]),Me.push(t))}function He(){var e,r;return e=ir(),r=function(){var e,r,o;return(e=function(){var e,r,o,i,a;for(e=Le,r=[],o=Le,(i=We())!==s?(44===n.charCodeAt(Le)?(a=h,Le++):(a=s,0===Pe&&Re(G)),a!==s?o=i:(Le=o,o=s)):(Le=o,o=s);o!==s;)r.push(o),o=Le,(i=We())!==s?(44===n.charCodeAt(Le)?(a=h,Le++):(a=s,0===Pe&&Re(G)),a!==s?o=i:(Le=o,o=s)):(Le=o,o=s);return o=Le,(i=We())!==s?(59===n.charCodeAt(Le)?(a=p,Le++):(a=s,0===Pe&&Re(V)),a!==s?o=i:(Le=o,o=s)):(Le=o,o=s),o!==s?e=r=[r,o]:(Le=e,e=s),e!==s&&(e=function(e){return e[0].concat(e[1]).reduce(t,{})}(e)),e}())===s&&(e=null),(r=function(){var t,e,r,o,i;for(t=Le,e=[],r=Le,(o=ze())!==s?(44===n.charCodeAt(Le)?(i=h,Le++):(i=s,0===Pe&&Re(G)),i!==s?r=o:(Le=r,r=s)):(Le=r,r=s);r!==s;)e.push(r),r=Le,(o=ze())!==s?(44===n.charCodeAt(Le)?(i=h,Le++):(i=s,0===Pe&&Re(G)),i!==s?r=o:(Le=r,r=s)):(Le=r,r=s);return r=Le,(o=ze())!==s?(59===n.charCodeAt(Le)?(i=p,Le++):(i=s,0===Pe&&Re(V)),i!==s?r=o:(Le=r,r=s)):(Le=r,r=s),r!==s?t=e=[e,r]:(Le=t,t=s),t!==s&&(a=t,t=a[0].concat(a[1])),t;var a}())===s&&(r=null),(o=Ge())===s&&(o=null),function(t,e,r){var n={};return t&&(n.options=t),e&&(n.entities=e),r&&(n.arcs=r),n}(e,r,o)}(),ir(),Ee(e,r)}function We(){var t,r,o,i,a,c;return t=Le,ir(),"hscale"===n.substr(Le,6).toLowerCase()?(r=n.substr(Le,6),Le+=6):(r=s,0===Pe&&Re(X)),r===s&&("arcgradient"===n.substr(Le,11).toLowerCase()?(r=n.substr(Le,11),Le+=11):(r=s,0===Pe&&Re(U))),r!==s?(ir(),61===n.charCodeAt(Le)?(o=g,Le++):(o=s,0===Pe&&Re(q)),o!==s?(ir(),(i=function(){var t,e;return Pe++,t=Le,e=function(){var t,e,r,o;return t=Le,34===n.charCodeAt(Le)?(e=I,Le++):(e=s,0===Pe&&Re(ee)),e!==s&&(r=ar())!==s?(34===n.charCodeAt(Le)?(o=I,Le++):(o=s,0===Pe&&Re(ee)),o!==s?(i=r,t=i.toString()):(Le=t,t=s)):(Le=t,t=s),t;var i}(),(t=e)===s&&(t=Le,(e=ar())!==s&&(r=e,e=r.toString()),t=e),Pe--,t===s&&(e=s,0===Pe&&Re(be)),t;var r}())!==s?(ir(),a=r,c=i,t=e.nameValue2Option(a,c)):(Le=t,t=s)):(Le=t,t=s)):(Le=t,t=s),t===s&&(t=Le,ir(),"width"===n.substr(Le,5).toLowerCase()?(r=n.substr(Le,5),Le+=5):(r=s,0===Pe&&Re($)),r!==s?(ir(),61===n.charCodeAt(Le)?(o=g,Le++):(o=s,0===Pe&&Re(q)),o!==s?(ir(),(i=function(){var t;return Pe++,(t=function(){var t,e,r,o;return t=Le,34===n.charCodeAt(Le)?(e=I,Le++):(e=s,0===Pe&&Re(ee)),e!==s&&(r=lr())!==s?(34===n.charCodeAt(Le)?(o=I,Le++):(o=s,0===Pe&&Re(ee)),o!==s?t=r:(Le=t,t=s)):(Le=t,t=s),t}())===s&&(t=lr()),Pe--,t===s&&0===Pe&&Re(ke),t}())!==s?(ir(),t=function(t,r){return e.nameValue2Option(t,r)}(r,i)):(Le=t,t=s)):(Le=t,t=s)):(Le=t,t=s),t===s&&(t=Le,ir(),"wordwraparcs"===n.substr(Le,12).toLowerCase()?(r=n.substr(Le,12),Le+=12):(r=s,0===Pe&&Re(Y)),r!==s?(ir(),61===n.charCodeAt(Le)?(o=g,Le++):(o=s,0===Pe&&Re(q)),o!==s?(ir(),(i=ur())!==s?(ir(),t=function(t,r){return e.nameValue2Option(t,e.flattenBoolean(r))}(r,i)):(Le=t,t=s)):(Le=t,t=s)):(Le=t,t=s),t===s&&(t=Le,ir(),"wordwrapentities"===n.substr(Le,16).toLowerCase()?(r=n.substr(Le,16),Le+=16):(r=s,0===Pe&&Re(Z)),r!==s?(ir(),61===n.charCodeAt(Le)?(o=g,Le++):(o=s,0===Pe&&Re(q)),o!==s?(ir(),(i=ur())!==s?(ir(),t=function(t,r){return e.nameValue2Option(t,e.flattenBoolean(r))}(r,i)):(Le=t,t=s)):(Le=t,t=s)):(Le=t,t=s),t===s&&(t=Le,ir(),"wordwrapboxes"===n.substr(Le,13).toLowerCase()?(r=n.substr(Le,13),Le+=13):(r=s,0===Pe&&Re(K)),r!==s?(ir(),61===n.charCodeAt(Le)?(o=g,Le++):(o=s,0===Pe&&Re(q)),o!==s?(ir(),(i=ur())!==s?(ir(),t=function(t,r){return e.nameValue2Option(t,e.flattenBoolean(r))}(r,i)):(Le=t,t=s)):(Le=t,t=s)):(Le=t,t=s),t===s&&(t=Le,ir(),"watermark"===n.substr(Le,9).toLowerCase()?(r=n.substr(Le,9),Le+=9):(r=s,0===Pe&&Re(J)),r!==s?(ir(),61===n.charCodeAt(Le)?(o=g,Le++):(o=s,0===Pe&&Re(q)),o!==s?(ir(),(i=Ze())!==s?(ir(),t=function(t,r){return e.nameValue2Option(t,r)}(r,i)):(Le=t,t=s)):(Le=t,t=s)):(Le=t,t=s)))))),t}function ze(){var t,e,r,o,i,a,c;return Pe++,t=Le,ir(),(e=Ke())!==s?(ir(),r=Le,58===n.charCodeAt(Le)?(o=":",Le++):(o=s,0===Pe&&Re(tt)),o!==s?(ir(),(i=Ye())!==s?(ir(),r=i):(Le=r,r=s)):(Le=r,r=s),r===s&&(r=null),a=r,c=fr(e),a&&(c.label=a),t=c):(Le=t,t=s),Pe--,t===s&&0===Pe&&Re(Q),t}function Ge(){var t,e,r,o;if(t=[],e=Le,(r=Ve())!==s?(ir(),59===n.charCodeAt(Le)?(o=p,Le++):(o=s,0===Pe&&Re(V)),o!==s?e=r:(Le=e,e=s)):(Le=e,e=s),e!==s)for(;e!==s;)t.push(e),e=Le,(r=Ve())!==s?(ir(),59===n.charCodeAt(Le)?(o=p,Le++):(o=s,0===Pe&&Re(V)),o!==s?e=r:(Le=e,e=s)):(Le=e,e=s);else t=s;return t}function Ve(){var t,e,r,o,i,a;for(t=Le,e=[],r=Le,(o=Xe())!==s?(44===n.charCodeAt(Le)?(i=h,Le++):(i=s,0===Pe&&Re(G)),i!==s?r=o:(Le=r,r=s)):(Le=r,r=s);r!==s;)e.push(r),r=Le,(o=Xe())!==s?(44===n.charCodeAt(Le)?(i=h,Le++):(i=s,0===Pe&&Re(G)),i!==s?r=o:(Le=r,r=s)):(Le=r,r=s);return r=Le,(r=o=Xe())!==s?t=e=[e,r]:(Le=t,t=s),t!==s&&(t=(a=t)[0].concat(a[1])),t}function Xe(){var t;return(t=function(){var t,e,r,o,i;return t=Le,e=Le,r=function(){var t,e;return t=Le,ir(),(e=function(){var t;return Pe++,n.substr(Le,3)===x?(t=x,Le+=3):(t=s,0===Pe&&Re(it)),t===s&&(n.substr(Le,3)===y?(t=y,Le+=3):(t=s,0===Pe&&Re(at))),Pe--,t===s&&0===Pe&&Re(ot),t}())!==s?(ir(),r=e,t={kind:r}):(Le=t,t=s),t;var r}(),(e=r)===s&&(e=Le,r=function(){var t,e,r,o;return t=Le,ir(),(e=Ke())!==s?(ir(),(r=function(){var t;return(t=Ue())===s&&(t=qe())===s&&(t=$e())===s&&(t=function(){var t;return Pe++,n.substr(Le,4).toLowerCase()===S?(t=n.substr(Le,4),Le+=4):(t=s,0===Pe&&Re(Dt)),t===s&&(n.substr(Le,4).toLowerCase()===A?(t=n.substr(Le,4),Le+=4):(t=s,0===Pe&&Re(It)),t===s&&(n.substr(Le,4).toLowerCase()===k?(t=n.substr(Le,4),Le+=4):(t=s,0===Pe&&Re(Ft)),t===s&&("box"===n.substr(Le,3).toLowerCase()?(t=n.substr(Le,3),Le+=3):(t=s,0===Pe&&Re(Bt))))),Pe--,t===s&&0===Pe&&Re(Pt),t}()),t!==s&&(e=t,t=e.toLowerCase()),t;var e}())!==s?(ir(),(o=Ke())!==s?(ir(),i=e,a=r,c=o,t={kind:a,from:i,to:c}):(Le=t,t=s)):(Le=t,t=s)):(Le=t,t=s),t===s&&(t=Le,ir(),42===n.charCodeAt(Le)?(e=m,Le++):(e=s,0===Pe&&Re(et)),e!==s?(ir(),(r=$e())!==s?(ir(),(o=Ke())!==s?(ir(),t=function(t,e){return{kind:t,from:"*",to:e}}(r,o)):(Le=t,t=s)):(Le=t,t=s)):(Le=t,t=s),t===s&&(t=Le,ir(),(e=Ke())!==s?(ir(),(r=qe())!==s?(ir(),42===n.charCodeAt(Le)?(o=m,Le++):(o=s,0===Pe&&Re(et)),o!==s?(ir(),t=function(t,e){return{kind:e,from:t,to:"*"}}(e,r)):(Le=t,t=s)):(Le=t,t=s)):(Le=t,t=s),t===s&&(t=Le,ir(),(e=Ke())!==s?(ir(),(r=Ue())!==s?(ir(),42===n.charCodeAt(Le)?(o=m,Le++):(o=s,0===Pe&&Re(et)),o!==s?(ir(),t=function(t,e){return{kind:e,from:t,to:"*"}}(e,r)):(Le=t,t=s)):(Le=t,t=s)):(Le=t,t=s)))),t;var i,a,c}(),(e=r)===s&&(e=Le,r=function(){var t,e;return t=Le,ir(),(e=function(){var t;return Pe++,n.substr(Le,3)===w?(t=w,Le+=3):(t=s,0===Pe&&Re(ut)),Pe--,t===s&&0===Pe&&Re(ct),t}())!==s?(ir(),r=e,t={kind:r}):(Le=t,t=s),t;var r}(),e=r)),e!==s?(r=Le,58===n.charCodeAt(Le)?(o=b,Le++):(o=s,0===Pe&&Re(tt)),o!==s?(ir(),(i=Ye())!==s?(ir(),u=i,r=u):(Le=r,r=s)):(Le=r,r=s),r===s&&(r=null),a=e,c=r,c&&(a.label=c),t=a):(Le=t,t=s),t;var a,c;var u}())===s&&(t=function(){var t,e,r,o,i,a,c,u;return t=Le,ir(),(e=Ke())!==s?(ir(),(r=function(){var t,e;return Pe++,t=Le,"alt"===n.substr(Le,3).toLowerCase()?(e=n.substr(Le,3),Le+=3):(e=s,0===Pe&&Re(Rt)),e===s&&(n.substr(Le,4).toLowerCase()===j?(e=n.substr(Le,4),Le+=4):(e=s,0===Pe&&Re(Ht)),e===s&&("opt"===n.substr(Le,3).toLowerCase()?(e=n.substr(Le,3),Le+=3):(e=s,0===Pe&&Re(Wt)),e===s&&(n.substr(Le,5).toLowerCase()===E?(e=n.substr(Le,5),Le+=5):(e=s,0===Pe&&Re(zt)),e===s&&("par"===n.substr(Le,3).toLowerCase()?(e=n.substr(Le,3),Le+=3):(e=s,0===Pe&&Re(Gt)),e===s&&("seq"===n.substr(Le,3).toLowerCase()?(e=n.substr(Le,3),Le+=3):(e=s,0===Pe&&Re(Vt)),e===s&&(n.substr(Le,6).toLowerCase()===L?(e=n.substr(Le,6),Le+=6):(e=s,0===Pe&&Re(Xt)),e===s&&("neg"===n.substr(Le,3).toLowerCase()?(e=n.substr(Le,3),Le+=3):(e=s,0===Pe&&Re(Ut)),e===s&&(n.substr(Le,8).toLowerCase()===O?(e=n.substr(Le,8),Le+=8):(e=s,0===Pe&&Re(qt)),e===s&&(n.substr(Le,6).toLowerCase()===T?(e=n.substr(Le,6),Le+=6):(e=s,0===Pe&&Re($t)),e===s&&(n.substr(Le,8).toLowerCase()===M?(e=n.substr(Le,8),Le+=8):(e=s,0===Pe&&Re(Yt)),e===s&&(n.substr(Le,6).toLowerCase()===P?(e=n.substr(Le,6),Le+=6):(e=s,0===Pe&&Re(Zt)),e===s&&(n.substr(Le,4).toLowerCase()===D?(e=n.substr(Le,4),Le+=4):(e=s,0===Pe&&Re(Kt)),e===s&&("ref"===n.substr(Le,3).toLowerCase()?(e=n.substr(Le,3),Le+=3):(e=s,0===Pe&&Re(Jt)),e===s&&("exc"===n.substr(Le,3).toLowerCase()?(e=n.substr(Le,3),Le+=3):(e=s,0===Pe&&Re(Qt)))))))))))))))),e!==s&&(r=e,e=r.toLowerCase()),Pe--,(t=e)===s&&(e=s,0===Pe&&Re(Nt)),t;var r}())!==s?(ir(),(o=Ke())!==s?(ir(),i=Le,58===n.charCodeAt(Le)?(a=b,Le++):(a=s,0===Pe&&Re(tt)),a!==s?(ir(),(c=Ye())!==s?(ir(),m=c,i=m):(Le=i,i=s)):(Le=i,i=s),i===s&&(i=null),123===n.charCodeAt(Le)?(a=v,Le++):(a=s,0===Pe&&Re(rt)),a!==s?(ir(),(c=Ge())===s&&(c=null),ir(),125===n.charCodeAt(Le)?(u="}",Le++):(u=s,0===Pe&&Re(nt)),u!==s?(ir(),l=e,d=r,f=o,h=i,p=c,g={kind:d,from:l,to:f,arcs:p},h&&(g.label=h),t=g):(Le=t,t=s)):(Le=t,t=s)):(Le=t,t=s)):(Le=t,t=s)):(Le=t,t=s),t;var l,d,f,h,p,g;var m}()),t}function Ue(){var t;return Pe++,"--"===n.substr(Le,2)?(t="--",Le+=2):(t=s,0===Pe&&Re(lt)),t===s&&("<->"===n.substr(Le,3)?(t="<->",Le+=3):(t=s,0===Pe&&Re(dt)),t===s&&("=="===n.substr(Le,2)?(t="==",Le+=2):(t=s,0===Pe&&Re(ft)),t===s&&(n.substr(Le,5)===_?(t=_,Le+=5):(t=s,0===Pe&&Re(ht)),t===s&&("<=>"===n.substr(Le,3)?(t="<=>",Le+=3):(t=s,0===Pe&&Re(pt)),t===s&&(".."===n.substr(Le,2)?(t="..",Le+=2):(t=s,0===Pe&&Re(gt)),t===s&&(n.substr(Le,4)===C?(t=C,Le+=4):(t=s,0===Pe&&Re(bt)),t===s&&("::"===n.substr(Le,2)?(t="::",Le+=2):(t=s,0===Pe&&Re(mt)),t===s&&("<:>"===n.substr(Le,3)?(t="<:>",Le+=3):(t=s,0===Pe&&Re(vt)))))))))),Pe--,t===s&&0===Pe&&Re(st),t}function qe(){var t;return Pe++,"->"===n.substr(Le,2)?(t="->",Le+=2):(t=s,0===Pe&&Re(yt)),t===s&&("=>>"===n.substr(Le,3)?(t="=>>",Le+=3):(t=s,0===Pe&&Re(wt)),t===s&&("=>"===n.substr(Le,2)?(t="=>",Le+=2):(t=s,0===Pe&&Re(_t)),t===s&&(">>"===n.substr(Le,2)?(t=">>",Le+=2):(t=s,0===Pe&&Re(Ct)),t===s&&(":>"===n.substr(Le,2)?(t=":>",Le+=2):(t=s,0===Pe&&Re(St)),t===s&&("-x"===n.substr(Le,2).toLowerCase()?(t=n.substr(Le,2),Le+=2):(t=s,0===Pe&&Re(At))))))),Pe--,t===s&&0===Pe&&Re(xt),t}function $e(){var t;return Pe++,"<-"===n.substr(Le,2)?(t="<-",Le+=2):(t=s,0===Pe&&Re(jt)),t===s&&("<<="===n.substr(Le,3)?(t="<<=",Le+=3):(t=s,0===Pe&&Re(Et)),t===s&&("<="===n.substr(Le,2)?(t="<=",Le+=2):(t=s,0===Pe&&Re(Lt)),t===s&&("<<"===n.substr(Le,2)?(t="<<",Le+=2):(t=s,0===Pe&&Re(Ot)),t===s&&("<:"===n.substr(Le,2)?(t="<:",Le+=2):(t=s,0===Pe&&Re(Tt)),t===s&&("x-"===n.substr(Le,2).toLowerCase()?(t=n.substr(Le,2),Le+=2):(t=s,0===Pe&&Re(Mt))))))),Pe--,t===s&&0===Pe&&Re(kt),t}function Ye(){var t,e;return(t=Ze())===s&&(e=function(){var t,e,r,o;for(t=[],e=Le,r=Le,Pe++,44===n.charCodeAt(Le)?(o=h,Le++):(o=s,0===Pe&&Re(G)),o===s&&(59===n.charCodeAt(Le)?(o=p,Le++):(o=s,0===Pe&&Re(V)),o===s&&(123===n.charCodeAt(Le)?(o=v,Le++):(o=s,0===Pe&&Re(rt)))),Pe--,o===s?r=void 0:(Le=r,r=s),r!==s?(n.length>Le?(o=n.charAt(Le),Le++):(o=s,0===Pe&&Re(ne)),o!==s?e=o:(Le=e,e=s)):(Le=e,e=s);e!==s;)t.push(e),e=Le,r=Le,Pe++,44===n.charCodeAt(Le)?(o=h,Le++):(o=s,0===Pe&&Re(G)),o===s&&(59===n.charCodeAt(Le)?(o=p,Le++):(o=s,0===Pe&&Re(V)),o===s&&(123===n.charCodeAt(Le)?(o=v,Le++):(o=s,0===Pe&&Re(rt)))),Pe--,o===s?r=void 0:(Le=r,r=s),r!==s?(n.length>Le?(o=n.charAt(Le),Le++):(o=s,0===Pe&&Re(ne)),o!==s?e=o:(Le=e,e=s)):(Le=e,e=s);return t}(),t=e.join("").trim()),t}function Ze(){var t,e,r,o;return Pe++,t=Le,34===n.charCodeAt(Le)?(e=I,Le++):(e=s,0===Pe&&Re(ee)),e!==s?(r=function(){var t,e,r,o;for(t=[],e=Le,r=Le,Pe++,34===n.charCodeAt(Le)?(o=I,Le++):(o=s,0===Pe&&Re(ee)),Pe--,o===s?r=void 0:(Le=r,r=s),r!==s?(n.substr(Le,2)===F?(o=F,Le+=2):(o=s,0===Pe&&Re(re)),o===s&&(n.length>Le?(o=n.charAt(Le),Le++):(o=s,0===Pe&&Re(ne))),o!==s?e=o:(Le=e,e=s)):(Le=e,e=s);e!==s;)t.push(e),e=Le,r=Le,Pe++,34===n.charCodeAt(Le)?(o=I,Le++):(o=s,0===Pe&&Re(ee)),Pe--,o===s?r=void 0:(Le=r,r=s),r!==s?(n.substr(Le,2)===F?(o=F,Le+=2):(o=s,0===Pe&&Re(re)),o===s&&(n.length>Le?(o=n.charAt(Le),Le++):(o=s,0===Pe&&Re(ne))),o!==s?e=o:(Le=e,e=s)):(Le=e,e=s);return t}(),34===n.charCodeAt(Le)?(o=I,Le++):(o=s,0===Pe&&Re(ee)),o!==s?t=r.join(""):(Le=t,t=s)):(Le=t,t=s),Pe--,t===s&&(e=s,0===Pe&&Re(te)),t}function Ke(){var t,e,r;if(Pe++,t=Le,e=[],N.test(n.charAt(Le))?(r=n.charAt(Le),Le++):(r=s,0===Pe&&Re(ie)),r!==s)for(;r!==s;)e.push(r),N.test(n.charAt(Le))?(r=n.charAt(Le),Le++):(r=s,0===Pe&&Re(ie));else e=s;return e!==s&&(e=e.join("")),(t=e)===s&&(t=Ze()),Pe--,t===s&&(e=s,0===Pe&&Re(oe)),t}function Je(){var t,e;return Pe++,Le,R.test(n.charAt(Le))?(e=n.charAt(Le),Le++):(e=s,0===Pe&&Re(ce)),Pe--,(t=e)===s&&(e=s,0===Pe&&Re(ae)),t}function Qe(){var t,e;return Pe++,Le,H.test(n.charAt(Le))?(e=n.charAt(Le),Le++):(e=s,0===Pe&&Re(se)),Pe--,(t=e)===s&&(e=s,0===Pe&&Re(ue)),t}function tr(){var t,e,r;return t=Le,e=Le,Pe++,n.substr(Le,2)===B?(r=B,Le+=2):(r=s,0===Pe&&Re(de)),Pe--,r===s?e=void 0:(Le=e,e=s),e!==s?(n.length>Le?(r=n.charAt(Le),Le++):(r=s,0===Pe&&Re(ne)),r!==s?t=r:(Le=t,t=s)):(Le=t,t=s),t}function er(){var t,e,r,o,i;if(t=Le,(e=function(){var t;return"/*"===n.substr(Le,2)?(t="/*",Le+=2):(t=s,0===Pe&&Re(le)),t}())!==s){for(r=[],o=tr();o!==s;)r.push(o),o=tr();(o=function(){var t;return n.substr(Le,2)===B?(t=B,Le+=2):(t=s,0===Pe&&Re(de)),t}())!==s?(i=o,t=e+r.join("")+i):(Le=t,t=s)}else Le=t,t=s;return t}function rr(){var t;return W.test(n.charAt(Le))?(t=n.charAt(Le),Le++):(t=s,0===Pe&&Re(pe)),t}function nr(){var t,e,r,o;if(t=Le,(e=function(){var t;return"//"===n.substr(Le,2)?(t="//",Le+=2):(t=s,0===Pe&&Re(fe)),t===s&&(35===n.charCodeAt(Le)?(t="#",Le++):(t=s,0===Pe&&Re(he))),t}())!==s){for(r=[],o=rr();o!==s;)r.push(o),o=rr();t=e+r.join("")}else Le=t,t=s;return t}function or(){var t;return Pe++,(t=nr())===s&&(t=er()),Pe--,t===s&&0===Pe&&Re(ge),t}function ir(){var t,e;for(t=[],(e=Je())===s&&(e=Qe())===s&&(e=or());e!==s;)t.push(e),(e=Je())===s&&(e=Qe())===s&&(e=or());return t}function ar(){var t,e,r,o,i,a;return e=Le,(r=cr())!==s?(46===n.charCodeAt(Le)?(o=".",Le++):(o=s,0===Pe&&Re(ve)),o!==s&&(i=cr())!==s?e=r=[r,o,i]:(Le=e,e=s)):(Le=e,e=s),e!==s&&(a=e,e=parseFloat(a.join(""))),(t=e)===s&&(t=cr()),t}function cr(){var t,e;if(t=[],z.test(n.charAt(Le))?(e=n.charAt(Le),Le++):(e=s,0===Pe&&Re(me)),e!==s)for(;e!==s;)t.push(e),z.test(n.charAt(Le))?(e=n.charAt(Le),Le++):(e=s,0===Pe&&Re(me));else t=s;return t!==s&&(t=parseInt(t.join(""),10)),t}function ur(){var t,e;return Pe++,t=Le,e=function(){var t,e,r,o;return t=Le,34===n.charCodeAt(Le)?(e=I,Le++):(e=s,0===Pe&&Re(ee)),e!==s&&(r=sr())!==s?(34===n.charCodeAt(Le)?(o=I,Le++):(o=s,0===Pe&&Re(ee)),o!==s?t=r:(Le=t,t=s)):(Le=t,t=s),t}(),(t=e)===s&&(t=Le,(e=sr())!==s&&(e=e.toString()),t=e),Pe--,t===s&&(e=s,0===Pe&&Re(xe)),t}function sr(){var t;return"true"===n.substr(Le,4).toLowerCase()?(t=n.substr(Le,4),Le+=4):(t=s,0===Pe&&Re(ye)),t===s&&("false"===n.substr(Le,5).toLowerCase()?(t=n.substr(Le,5),Le+=5):(t=s,0===Pe&&Re(we)),t===s&&("on"===n.substr(Le,2).toLowerCase()?(t=n.substr(Le,2),Le+=2):(t=s,0===Pe&&Re(_e)),t===s&&("off"===n.substr(Le,3).toLowerCase()?(t=n.substr(Le,3),Le+=3):(t=s,0===Pe&&Re(Ce)),t===s&&(48===n.charCodeAt(Le)?(t="0",Le++):(t=s,0===Pe&&Re(Se)),t===s&&(49===n.charCodeAt(Le)?(t="1",Le++):(t=s,0===Pe&&Re(Ae))))))),t}function lr(){var t,e;return t=Le,(e=ar())!==s&&(e=e.toString()),(t=e)===s&&(t=Le,"auto"===n.substr(Le,4).toLowerCase()?(e=n.substr(Le,4),Le+=4):(e=s,0===Pe&&Re(je)),e!==s&&(e=e.toLowerCase()),t=e),t}function dr(t,r,n){return!(e.entityExists(t,r)||!0===n[r])}function fr(t){return{name:t}}function hr(e,r,n){return n||(n={}),(r||[]).forEach((function(r){r.forEach((function(r){dr(e,r.from,n)&&e.push(fr(r.from)),r.arcs&&(n[r.to]=!0,t(e,hr(e,r.arcs,n)),delete n[r.to]),dr(e,r.to,n)&&e.push(fr(r.to))}))})),e}if((i=f())!==s&&Le===n.length)return i;throw i!==s&&Le<n.length&&Re({type:"end"}),a=Me,c=Te<n.length?n.charAt(Te):null,u=Te<n.length?Ne(Te,Te+1):Ne(Te,Te),new r(r.buildMessage(a,c),a,c,u)}}})?n.apply(e,o):n)||(t.exports=i)},8615:(t,e)=>{"use strict";function r(t,e){return void 0===e||"*"===e||t.some((function(t){return t.name===e}))}e.__esModule=!0,e.getMetaInfo=e.checkForUndeclaredEntities=e.EntityNotDefinedError=e.isMscGenKeyword=e.entityExists=e.flattenBoolean=e.nameValue2Option=void 0,e.nameValue2Option=function(t,e){var r={};return r[t.toLowerCase()]=e,r},e.flattenBoolean=function(t){return["true","on","1"].includes(t.toLowerCase())},e.entityExists=r,e.isMscGenKeyword=function(t){return["box","abox","rbox","note","msc","hscale","width","arcgradient","wordwraparcs","label","color","idurl","id","url","linecolor","linecolour","textcolor","textcolour","textbgcolor","textbgcolour","arclinecolor","arclinecolour","arctextcolor","arctextcolour","arctextbgcolor","arctextbgcolour","arcskip"].includes(t)};var n=function(t,e){this.name="EntityNotDefinedError",this.message=function(t,e){return"Entity '".concat(t,"' in arc '").concat(e.from," ").concat(e.kind," ").concat(e.to,"' is not defined.")}(t,e)};e.EntityNotDefinedError=n,e.checkForUndeclaredEntities=function t(e,o){(o||[]).forEach((function(o){o.forEach((function(o){if(o.from&&!r(e,o.from))throw new n(o.from,o);if(o.to&&!r(e,o.to))throw new n(o.to,o);o.arcs&&t(e,o.arcs)}))}))},e.getMetaInfo=function(t,e){var r=function(t){return!!t&&(t.hasOwnProperty("watermark")||t.hasOwnProperty("wordwrapentities")||t.hasOwnProperty("wordwrapboxes")||t.hasOwnProperty("width")&&"auto"===t.width)}(t),n=function(t){return(t||[]).some((function(t){return t.some((function(t){return["alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"].includes(t.kind)}))}))}(e);return{extendedOptions:r,extendedArcTypes:n,extendedFeatures:r||n}}},5150:function(t,e,r){var n,o,i;o=[r(8583),r(8615)],void 0===(i="function"==typeof(n=function(t,e){"use strict";function r(t,e,n,o){var i=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(i,r.prototype),i.expected=e,i.found=n,i.location=o,i.name="SyntaxError",i}function n(t,e,r){return r=r||" ",t.length>e?t:(e-=t.length,t+(r+=r.repeat(e)).slice(0,e))}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(r,Error),r.prototype.format=function(t){var e="Error: "+this.message;if(this.location){var r,o=null;for(r=0;r<t.length;r++)if(t[r].source===this.location.source){o=t[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,a=this.location.source+":"+i.line+":"+i.column;if(o){var c=this.location.end,u=n("",i.line.toString().length," "),s=o[i.line-1],l=(i.line===c.line?c.column:s.length+1)-i.column||1;e+="\n --\x3e "+a+"\n"+u+" |\n"+i.line+" | "+s+"\n"+u+" | "+n("",i.column-1," ")+n("",l,"^")}else e+="\n at "+a}return e},r.buildMessage=function(t,e){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e=t.parts.map((function(t){return Array.isArray(t)?i(t[0])+"-"+i(t[1]):i(t)}));return"["+(t.inverted?"^":"")+e.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function a(t){return r[t.type](t)}return"Expected "+function(t){var e,r,n=t.map(a);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},{SyntaxError:r,parse:function(n,o){var i,a,c,u,s={},l=(o=void 0!==o?o:{}).grammarSource,d={program:Pr},f=Pr,h=",",p=";",g="=",b="[",m="]",v="*",x="|||",y="...",w="---",_="<<=>>",C="<<>>",S="note",A="abox",k="rbox",j="else",E="break",L="strict",O="critical",T="ignore",M="consider",P="assert",D="loop",I="activate",F="deactivate",B="label",N="idurl",R="linecolor",H="linecolour",W="textcolor",z="textcolour",G="textbgcolor",V="textbgcolour",X="arclinecolor",U="arclinecolour",q="arctextcolor",$="arctextcolour",Y="arctextbgcolor",Z="arctextbgcolour",K="arcskip",J="title",Q="activation",tt='"',et='\\"',rt="*/",nt=/^[A-Za-z_0-9]/,ot=/^[ \t]/,it=/^[\r\n]/,at=/^[^\r\n]/,ct=/^[0-9]/,ut=jr("{",!1),st=jr("}",!1),lt=jr("msc",!0),dt=jr("xu",!0),ft=jr(",",!1),ht=jr(";",!1),pt=Lr("option"),gt=jr("hscale",!0),bt=jr("arcgradient",!0),mt=jr("=",!1),vt=jr("width",!0),xt=jr("wordwraparcs",!0),yt=jr("wordwrapentities",!0),wt=jr("wordwrapboxes",!0),_t=jr("watermark",!0),Ct=Lr("entity"),St=jr("[",!1),At=jr("]",!1),kt=jr("*",!1),jt=Lr("empty row"),Et=jr("|||",!1),Lt=jr("...",!1),Ot=Lr("---"),Tt=jr("---",!1),Mt=Lr("bi-directional arrow"),Pt=jr("--",!1),Dt=jr("<->",!1),It=jr("==",!1),Ft=jr("<<=>>",!1),Bt=jr("<=>",!1),Nt=jr("..",!1),Rt=jr("<<>>",!1),Ht=jr("::",!1),Wt=jr("<:>",!1),zt=Lr("left to right arrow"),Gt=jr("->",!1),Vt=jr("=>>",!1),Xt=jr("=>",!1),Ut=jr(">>",!1),qt=jr(":>",!1),$t=jr("-x",!0),Yt=Lr("right to left arrow"),Zt=jr("<-",!1),Kt=jr("<<=",!1),Jt=jr("<=",!1),Qt=jr("<<",!1),te=jr("<:",!1),ee=jr("x-",!0),re=Lr("box"),ne=jr("note",!0),oe=jr("abox",!0),ie=jr("rbox",!0),ae=jr("box",!0),ce=Lr("inline expression"),ue=jr("alt",!0),se=jr("else",!0),le=jr("opt",!0),de=jr("break",!0),fe=jr("par",!0),he=jr("seq",!0),pe=jr("strict",!0),ge=jr("neg",!0),be=jr("critical",!0),me=jr("ignore",!0),ve=jr("consider",!0),xe=jr("assert",!0),ye=jr("loop",!0),we=jr("ref",!0),_e=jr("exc",!0),Ce=Lr("activate or deactivate"),Se=jr("activate",!0),Ae=jr("deactivate",!0),ke=Lr("attribute name"),je=jr("label",!0),Ee=jr("idurl",!0),Le=jr("id",!0),Oe=jr("url",!0),Te=jr("linecolor",!0),Me=jr("linecolour",!0),Pe=jr("textcolor",!0),De=jr("textcolour",!0),Ie=jr("textbgcolor",!0),Fe=jr("textbgcolour",!0),Be=jr("arclinecolor",!0),Ne=jr("arclinecolour",!0),Re=jr("arctextcolor",!0),He=jr("arctextcolour",!0),We=jr("arctextbgcolor",!0),ze=jr("arctextbgcolour",!0),Ge=jr("arcskip",!0),Ve=jr("title",!0),Xe=jr("activation",!0),Ue=Lr("double quoted string"),qe=jr('"',!1),$e=jr('\\"',!1),Ye={type:"any"},Ze=Lr("identifier"),Ke=Er([["A","Z"],["a","z"],"_",["0","9"]],!1,!1),Je=Lr("whitespace"),Qe=Er([" ","\t"],!1,!1),tr=Lr("lineend"),er=Er(["\r","\n"],!1,!1),rr=jr("/*",!1),nr=jr("*/",!1),or=jr("//",!1),ir=jr("#",!1),ar=Er(["\r","\n"],!0,!1),cr=Lr("comment"),ur=Lr("number"),sr=Er([["0","9"]],!1,!1),lr=jr(".",!1),dr=Lr("boolean"),fr=jr("true",!0),hr=jr("false",!0),pr=jr("on",!0),gr=jr("off",!0),br=jr("0",!1),mr=jr("1",!1),vr=Lr("size"),xr=jr("auto",!0),yr=function(n,o){return e.isMscGenKeyword(n)&&function(t,e){throw function(t,e){return new r(t,null,null,e)}(t,e=void 0!==e?e:Tr(_r,wr))}("MscGen keywords aren't allowed as entity names (embed them in quotes if you need them)"),t({name:n},o)},wr=0,_r=0,Cr=[{line:1,column:1}],Sr=0,Ar=[],kr=0;if("startRule"in o){if(!(o.startRule in d))throw new Error("Can't start parsing from rule \""+o.startRule+'".');f=d[o.startRule]}function jr(t,e){return{type:"literal",text:t,ignoreCase:e}}function Er(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function Lr(t){return{type:"other",description:t}}function Or(t){var e,r=Cr[t];if(r)return r;for(e=t-1;!Cr[e];)e--;for(r={line:(r=Cr[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return Cr[t]=r,r}function Tr(t,e){var r=Or(t),n=Or(e);return{source:l,start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function Mr(t){wr<Sr||(wr>Sr&&(Sr=wr,Ar=[]),Ar.push(t))}function Pr(){var r,o,i,a,c,u,l;return r=wr,o=tn(),function(){var t;return"msc"===n.substr(wr,3).toLowerCase()?(t=n.substr(wr,3),wr+=3):(t=s,0===kr&&Mr(lt)),t===s&&("xu"===n.substr(wr,2).toLowerCase()?(t=n.substr(wr,2),wr+=2):(t=s,0===kr&&Mr(dt))),t}()!==s?(tn(),123===n.charCodeAt(wr)?(i="{",wr++):(i=s,0===kr&&Mr(ut)),i!==s?(tn(),a=function(){var e,r,o,i;return e=wr,(r=function(){var e,r,o,i,a,c;for(e=wr,r=wr,o=[],i=wr,(a=Dr())!==s?(44===n.charCodeAt(wr)?(c=h,wr++):(c=s,0===kr&&Mr(ft)),c!==s?(_r=i,i=a):(wr=i,i=s)):(wr=i,i=s);i!==s;)o.push(i),i=wr,(a=Dr())!==s?(44===n.charCodeAt(wr)?(c=h,wr++):(c=s,0===kr&&Mr(ft)),c!==s?(_r=i,i=a):(wr=i,i=s)):(wr=i,i=s);return i=wr,(a=Dr())!==s?(59===n.charCodeAt(wr)?(c=p,wr++):(c=s,0===kr&&Mr(ht)),c!==s?(_r=i,i=a):(wr=i,i=s)):(wr=i,i=s),i!==s?r=o=[o,i]:(wr=r,r=s),r!==s&&(_r=e,r=function(e){return e[0].concat(e[1]).reduce(t,{})}(r)),r}())===s&&(r=null),(o=function(){var t,e,r,o,i,a;for(t=wr,e=wr,r=[],o=wr,(i=Ir())!==s?(44===n.charCodeAt(wr)?(a=h,wr++):(a=s,0===kr&&Mr(ft)),a!==s?(_r=o,o=i):(wr=o,o=s)):(wr=o,o=s);o!==s;)r.push(o),o=wr,(i=Ir())!==s?(44===n.charCodeAt(wr)?(a=h,wr++):(a=s,0===kr&&Mr(ft)),a!==s?(_r=o,o=i):(wr=o,o=s)):(wr=o,o=s);return o=wr,(i=Ir())!==s?(59===n.charCodeAt(wr)?(a=p,wr++):(a=s,0===kr&&Mr(ht)),a!==s?(_r=o,o=i):(wr=o,o=s)):(wr=o,o=s),o!==s?e=r=[r,o]:(wr=e,e=s),e!==s&&(_r=t,c=e,e=c[0].concat(c[1])),e;var c}())===s&&(o=null),(i=Fr())===s&&(i=null),_r=e,function(t,e,r){var n={};return t&&(n.options=t),e&&(n.entities=e),r&&(n.arcs=r),n}(r,o,i)}(),tn(),125===n.charCodeAt(wr)?(c="}",wr++):(c=s,0===kr&&Mr(st)),c!==s?(tn(),_r=r,u=o,(l=a).entities=l.entities||[],e.checkForUndeclaredEntities(l.entities,l.arcs),l=t({meta:e.getMetaInfo(l.options,l.arcs)},l),u.length>0&&(l=t({precomment:u},l)),r=l):(wr=r,r=s)):(wr=r,r=s)):(wr=r,r=s),r}function Dr(){var t,r,o,i,a,c;return kr++,t=wr,tn(),"hscale"===n.substr(wr,6).toLowerCase()?(r=n.substr(wr,6),wr+=6):(r=s,0===kr&&Mr(gt)),r===s&&("arcgradient"===n.substr(wr,11).toLowerCase()?(r=n.substr(wr,11),wr+=11):(r=s,0===kr&&Mr(bt))),r!==s?(tn(),61===n.charCodeAt(wr)?(o=g,wr++):(o=s,0===kr&&Mr(mt)),o!==s?(tn(),(i=function(){var t,e;return kr++,t=wr,(e=function(){var t,e,r,o;return t=wr,34===n.charCodeAt(wr)?(e=tt,wr++):(e=s,0===kr&&Mr(qe)),e!==s&&(r=en())!==s?(34===n.charCodeAt(wr)?(o=tt,wr++):(o=s,0===kr&&Mr(qe)),o!==s?(_r=t,i=r,t=i.toString()):(wr=t,t=s)):(wr=t,t=s),t;var i}())!==s&&(_r=t),(t=e)===s&&(t=wr,(e=en())!==s&&(_r=t,r=e,e=r.toString()),t=e),kr--,t===s&&(e=s,0===kr&&Mr(ur)),t;var r}())!==s?(tn(),_r=t,a=r,c=i,t=e.nameValue2Option(a,c)):(wr=t,t=s)):(wr=t,t=s)):(wr=t,t=s),t===s&&(t=wr,tn(),"width"===n.substr(wr,5).toLowerCase()?(r=n.substr(wr,5),wr+=5):(r=s,0===kr&&Mr(vt)),r!==s?(tn(),61===n.charCodeAt(wr)?(o=g,wr++):(o=s,0===kr&&Mr(mt)),o!==s?(tn(),(i=function(){var t;return kr++,(t=function(){var t,e,r,o;return t=wr,34===n.charCodeAt(wr)?(e=tt,wr++):(e=s,0===kr&&Mr(qe)),e!==s&&(r=an())!==s?(34===n.charCodeAt(wr)?(o=tt,wr++):(o=s,0===kr&&Mr(qe)),o!==s?(_r=t,t=r):(wr=t,t=s)):(wr=t,t=s),t}())===s&&(t=an()),kr--,t===s&&0===kr&&Mr(vr),t}())!==s?(tn(),_r=t,t=function(t,r){return e.nameValue2Option(t,r)}(r,i)):(wr=t,t=s)):(wr=t,t=s)):(wr=t,t=s),t===s&&(t=wr,tn(),"wordwraparcs"===n.substr(wr,12).toLowerCase()?(r=n.substr(wr,12),wr+=12):(r=s,0===kr&&Mr(xt)),r!==s?(tn(),61===n.charCodeAt(wr)?(o=g,wr++):(o=s,0===kr&&Mr(mt)),o!==s?(tn(),(i=nn())!==s?(tn(),_r=t,t=function(t,r){return e.nameValue2Option(t,e.flattenBoolean(r))}(r,i)):(wr=t,t=s)):(wr=t,t=s)):(wr=t,t=s),t===s&&(t=wr,tn(),"wordwrapentities"===n.substr(wr,16).toLowerCase()?(r=n.substr(wr,16),wr+=16):(r=s,0===kr&&Mr(yt)),r!==s?(tn(),61===n.charCodeAt(wr)?(o=g,wr++):(o=s,0===kr&&Mr(mt)),o!==s?(tn(),(i=nn())!==s?(tn(),_r=t,t=function(t,r){return e.nameValue2Option(t,e.flattenBoolean(r))}(r,i)):(wr=t,t=s)):(wr=t,t=s)):(wr=t,t=s),t===s&&(t=wr,tn(),"wordwrapboxes"===n.substr(wr,13).toLowerCase()?(r=n.substr(wr,13),wr+=13):(r=s,0===kr&&Mr(wt)),r!==s?(tn(),61===n.charCodeAt(wr)?(o=g,wr++):(o=s,0===kr&&Mr(mt)),o!==s?(tn(),(i=nn())!==s?(tn(),_r=t,t=function(t,r){return e.nameValue2Option(t,e.flattenBoolean(r))}(r,i)):(wr=t,t=s)):(wr=t,t=s)):(wr=t,t=s),t===s&&(t=wr,tn(),"watermark"===n.substr(wr,9).toLowerCase()?(r=n.substr(wr,9),wr+=9):(r=s,0===kr&&Mr(_t)),r!==s?(tn(),61===n.charCodeAt(wr)?(o=g,wr++):(o=s,0===kr&&Mr(mt)),o!==s?(tn(),(i=Vr())!==s?(tn(),_r=t,t=function(t,r){return e.nameValue2Option(t,r)}(r,i)):(wr=t,t=s)):(wr=t,t=s)):(wr=t,t=s)))))),kr--,t===s&&0===kr&&Mr(pt),t}function Ir(){var e,r,o,i,a,c;return kr++,e=wr,tn(),(r=Vr())!==s?(tn(),o=wr,91===n.charCodeAt(wr)?(i=b,wr++):(i=s,0===kr&&Mr(St)),i!==s&&(a=zr())!==s?(93===n.charCodeAt(wr)?(c=m,wr++):(c=s,0===kr&&Mr(At)),c!==s?(_r=o,o=a):(wr=o,o=s)):(wr=o,o=s),o===s&&(o=null),i=tn(),_r=e,e=t({name:r},o)):(wr=e,e=s),e===s&&(e=wr,tn(),(r=Ur())!==s?(tn(),o=wr,91===n.charCodeAt(wr)?(i=b,wr++):(i=s,0===kr&&Mr(St)),i!==s&&(a=zr())!==s?(93===n.charCodeAt(wr)?(c=m,wr++):(c=s,0===kr&&Mr(At)),c!==s?(_r=o,o=function(t,e){return e}(0,a)):(wr=o,o=s)):(wr=o,o=s),o===s&&(o=null),i=tn(),_r=e,e=yr(r,o)):(wr=e,e=s)),kr--,e===s&&0===kr&&Mr(Ct),e}function Fr(){var t,e,r,o;if(t=[],e=wr,(r=Br())!==s?(tn(),59===n.charCodeAt(wr)?(o=p,wr++):(o=s,0===kr&&Mr(ht)),o!==s?(_r=e,e=r):(wr=e,e=s)):(wr=e,e=s),e!==s)for(;e!==s;)t.push(e),e=wr,(r=Br())!==s?(tn(),59===n.charCodeAt(wr)?(o=p,wr++):(o=s,0===kr&&Mr(ht)),o!==s?(_r=e,e=r):(wr=e,e=s)):(wr=e,e=s);else t=s;return t}function Br(){var t,e,r,o,i,a,c;for(t=wr,e=wr,r=[],o=wr,(i=Nr())!==s?(tn(),44===n.charCodeAt(wr)?(a=h,wr++):(a=s,0===kr&&Mr(ft)),a!==s?(_r=o,o=i):(wr=o,o=s)):(wr=o,o=s);o!==s;)r.push(o),o=wr,(i=Nr())!==s?(tn(),44===n.charCodeAt(wr)?(a=h,wr++):(a=s,0===kr&&Mr(ft)),a!==s?(_r=o,o=i):(wr=o,o=s)):(wr=o,o=s);return o=wr,(i=Nr())!==s&&(_r=o),(o=i)!==s?e=r=[r,o]:(wr=e,e=s),e!==s&&(_r=t,e=(c=e)[0].concat(c[1])),e}function Nr(){var e;return(e=function(){var e,r,o,i,a,c;return e=wr,r=wr,(o=function(){var t,e;return t=wr,tn(),(e=function(){var t;return kr++,n.substr(wr,3)===x?(t=x,wr+=3):(t=s,0===kr&&Mr(Et)),t===s&&(n.substr(wr,3)===y?(t=y,wr+=3):(t=s,0===kr&&Mr(Lt))),kr--,t===s&&0===kr&&Mr(jt),t}())!==s?(tn(),_r=t,r=e,t={kind:r}):(wr=t,t=s),t;var r}())!==s&&(_r=r),(r=o)===s&&(r=wr,(o=function(){var t,e,r,o;return t=wr,tn(),(e=Xr())!==s?(tn(),(r=function(){var t,e;return t=wr,(e=Rr())===s&&(e=Hr())===s&&(e=Wr())===s&&(e=function(){var t;return kr++,n.substr(wr,4).toLowerCase()===S?(t=n.substr(wr,4),wr+=4):(t=s,0===kr&&Mr(ne)),t===s&&(n.substr(wr,4).toLowerCase()===A?(t=n.substr(wr,4),wr+=4):(t=s,0===kr&&Mr(oe)),t===s&&(n.substr(wr,4).toLowerCase()===k?(t=n.substr(wr,4),wr+=4):(t=s,0===kr&&Mr(ie)),t===s&&("box"===n.substr(wr,3).toLowerCase()?(t=n.substr(wr,3),wr+=3):(t=s,0===kr&&Mr(ae))))),kr--,t===s&&0===kr&&Mr(re),t}()),e!==s&&(_r=t,r=e,e=r.toLowerCase()),e;var r}())!==s?(tn(),(o=Xr())!==s?(tn(),_r=t,i=e,a=r,c=o,t={kind:a,from:i,to:c}):(wr=t,t=s)):(wr=t,t=s)):(wr=t,t=s),t===s&&(t=wr,tn(),42===n.charCodeAt(wr)?(e=v,wr++):(e=s,0===kr&&Mr(kt)),e!==s?(tn(),(r=Wr())!==s?(tn(),(o=Xr())!==s?(tn(),_r=t,t=function(t,e){return{kind:t,from:"*",to:e}}(r,o)):(wr=t,t=s)):(wr=t,t=s)):(wr=t,t=s),t===s&&(t=wr,tn(),(e=Xr())!==s?(tn(),(r=Hr())!==s?(tn(),42===n.charCodeAt(wr)?(o=v,wr++):(o=s,0===kr&&Mr(kt)),o!==s?(tn(),_r=t,t=function(t,e){return{kind:e,from:t,to:"*"}}(e,r)):(wr=t,t=s)):(wr=t,t=s)):(wr=t,t=s),t===s&&(t=wr,tn(),(e=Xr())!==s?(tn(),(r=Rr())!==s?(tn(),42===n.charCodeAt(wr)?(o=v,wr++):(o=s,0===kr&&Mr(kt)),o!==s?(tn(),_r=t,t=function(t,e){return{kind:e,from:t,to:"*"}}(e,r)):(wr=t,t=s)):(wr=t,t=s)):(wr=t,t=s)))),t;var i,a,c}())!==s&&(_r=r),(r=o)===s&&(r=wr,(o=function(){var t,e;return t=wr,tn(),(e=function(){var t;return kr++,n.substr(wr,3)===w?(t=w,wr+=3):(t=s,0===kr&&Mr(Tt)),kr--,t===s&&0===kr&&Mr(Ot),t}())!==s?(tn(),_r=t,r=e,t={kind:r}):(wr=t,t=s),t;var r}())!==s&&(_r=r),r=o)),r!==s?(o=wr,91===n.charCodeAt(wr)?(i=b,wr++):(i=s,0===kr&&Mr(St)),i!==s&&(a=zr())!==s?(93===n.charCodeAt(wr)?(c=m,wr++):(c=s,0===kr&&Mr(At)),c!==s?(_r=o,u=a,o=u):(wr=o,o=s)):(wr=o,o=s),o===s&&(o=null),_r=e,e=function(e,r){return t(e,r)}(r,o)):(wr=e,e=s),e;var u}())===s&&(e=function(){var e,r,o,i,a,c,u,l,d,f;return e=wr,tn(),(r=Xr())!==s?(tn(),(o=function(){var t,e;return kr++,t=wr,"alt"===n.substr(wr,3).toLowerCase()?(e=n.substr(wr,3),wr+=3):(e=s,0===kr&&Mr(ue)),e===s&&(n.substr(wr,4).toLowerCase()===j?(e=n.substr(wr,4),wr+=4):(e=s,0===kr&&Mr(se)),e===s&&("opt"===n.substr(wr,3).toLowerCase()?(e=n.substr(wr,3),wr+=3):(e=s,0===kr&&Mr(le)),e===s&&(n.substr(wr,5).toLowerCase()===E?(e=n.substr(wr,5),wr+=5):(e=s,0===kr&&Mr(de)),e===s&&("par"===n.substr(wr,3).toLowerCase()?(e=n.substr(wr,3),wr+=3):(e=s,0===kr&&Mr(fe)),e===s&&("seq"===n.substr(wr,3).toLowerCase()?(e=n.substr(wr,3),wr+=3):(e=s,0===kr&&Mr(he)),e===s&&(n.substr(wr,6).toLowerCase()===L?(e=n.substr(wr,6),wr+=6):(e=s,0===kr&&Mr(pe)),e===s&&("neg"===n.substr(wr,3).toLowerCase()?(e=n.substr(wr,3),wr+=3):(e=s,0===kr&&Mr(ge)),e===s&&(n.substr(wr,8).toLowerCase()===O?(e=n.substr(wr,8),wr+=8):(e=s,0===kr&&Mr(be)),e===s&&(n.substr(wr,6).toLowerCase()===T?(e=n.substr(wr,6),wr+=6):(e=s,0===kr&&Mr(me)),e===s&&(n.substr(wr,8).toLowerCase()===M?(e=n.substr(wr,8),wr+=8):(e=s,0===kr&&Mr(ve)),e===s&&(n.substr(wr,6).toLowerCase()===P?(e=n.substr(wr,6),wr+=6):(e=s,0===kr&&Mr(xe)),e===s&&(n.substr(wr,4).toLowerCase()===D?(e=n.substr(wr,4),wr+=4):(e=s,0===kr&&Mr(ye)),e===s&&("ref"===n.substr(wr,3).toLowerCase()?(e=n.substr(wr,3),wr+=3):(e=s,0===kr&&Mr(we)),e===s&&("exc"===n.substr(wr,3).toLowerCase()?(e=n.substr(wr,3),wr+=3):(e=s,0===kr&&Mr(_e)))))))))))))))),e!==s&&(_r=t,r=e,e=r.toLowerCase()),kr--,(t=e)===s&&(e=s,0===kr&&Mr(ce)),t;var r}())!==s?(tn(),(i=Xr())!==s?(tn(),a=wr,91===n.charCodeAt(wr)?(c=b,wr++):(c=s,0===kr&&Mr(St)),c!==s&&(u=zr())!==s?(93===n.charCodeAt(wr)?(l=m,wr++):(l=s,0===kr&&Mr(At)),l!==s?(_r=a,h=u,a=h):(wr=a,a=s)):(wr=a,a=s),a===s&&(a=null),c=tn(),123===n.charCodeAt(wr)?(u="{",wr++):(u=s,0===kr&&Mr(ut)),u!==s?(l=tn(),(d=Fr())===s&&(d=null),tn(),125===n.charCodeAt(wr)?(f="}",wr++):(f=s,0===kr&&Mr(st)),f!==s?(tn(),_r=e,e=function(e,r,n,o,i){return t({kind:r,from:e,to:n,arcs:i},o)}(r,o,i,a,d)):(wr=e,e=s)):(wr=e,e=s)):(wr=e,e=s)):(wr=e,e=s)):(wr=e,e=s),e;var h}()),e}function Rr(){var t;return kr++,"--"===n.substr(wr,2)?(t="--",wr+=2):(t=s,0===kr&&Mr(Pt)),t===s&&("<->"===n.substr(wr,3)?(t="<->",wr+=3):(t=s,0===kr&&Mr(Dt)),t===s&&("=="===n.substr(wr,2)?(t="==",wr+=2):(t=s,0===kr&&Mr(It)),t===s&&(n.substr(wr,5)===_?(t=_,wr+=5):(t=s,0===kr&&Mr(Ft)),t===s&&("<=>"===n.substr(wr,3)?(t="<=>",wr+=3):(t=s,0===kr&&Mr(Bt)),t===s&&(".."===n.substr(wr,2)?(t="..",wr+=2):(t=s,0===kr&&Mr(Nt)),t===s&&(n.substr(wr,4)===C?(t=C,wr+=4):(t=s,0===kr&&Mr(Rt)),t===s&&("::"===n.substr(wr,2)?(t="::",wr+=2):(t=s,0===kr&&Mr(Ht)),t===s&&("<:>"===n.substr(wr,3)?(t="<:>",wr+=3):(t=s,0===kr&&Mr(Wt)))))))))),kr--,t===s&&0===kr&&Mr(Mt),t}function Hr(){var t;return kr++,"->"===n.substr(wr,2)?(t="->",wr+=2):(t=s,0===kr&&Mr(Gt)),t===s&&("=>>"===n.substr(wr,3)?(t="=>>",wr+=3):(t=s,0===kr&&Mr(Vt)),t===s&&("=>"===n.substr(wr,2)?(t="=>",wr+=2):(t=s,0===kr&&Mr(Xt)),t===s&&(">>"===n.substr(wr,2)?(t=">>",wr+=2):(t=s,0===kr&&Mr(Ut)),t===s&&(":>"===n.substr(wr,2)?(t=":>",wr+=2):(t=s,0===kr&&Mr(qt)),t===s&&("-x"===n.substr(wr,2).toLowerCase()?(t=n.substr(wr,2),wr+=2):(t=s,0===kr&&Mr($t))))))),kr--,t===s&&0===kr&&Mr(zt),t}function Wr(){var t;return kr++,"<-"===n.substr(wr,2)?(t="<-",wr+=2):(t=s,0===kr&&Mr(Zt)),t===s&&("<<="===n.substr(wr,3)?(t="<<=",wr+=3):(t=s,0===kr&&Mr(Kt)),t===s&&("<="===n.substr(wr,2)?(t="<=",wr+=2):(t=s,0===kr&&Mr(Jt)),t===s&&("<<"===n.substr(wr,2)?(t="<<",wr+=2):(t=s,0===kr&&Mr(Qt)),t===s&&("<:"===n.substr(wr,2)?(t="<:",wr+=2):(t=s,0===kr&&Mr(te)),t===s&&("x-"===n.substr(wr,2).toLowerCase()?(t=n.substr(wr,2),wr+=2):(t=s,0===kr&&Mr(ee))))))),kr--,t===s&&0===kr&&Mr(Yt),t}function zr(){var e,r,o,i,a,c,u;for(e=wr,r=wr,o=[],i=wr,(a=Gr())!==s?(44===n.charCodeAt(wr)?(c=h,wr++):(c=s,0===kr&&Mr(ft)),c!==s?(_r=i,i=a):(wr=i,i=s)):(wr=i,i=s);i!==s;)o.push(i),i=wr,(a=Gr())!==s?(44===n.charCodeAt(wr)?(c=h,wr++):(c=s,0===kr&&Mr(ft)),c!==s?(_r=i,i=a):(wr=i,i=s)):(wr=i,i=s);return i=wr,(a=Gr())!==s&&(_r=i),(i=a)!==s?r=o=[o,i]:(wr=r,r=s),r!==s&&(_r=e,r=(u=r)[0].concat(u[1]).reduce(t,{})),r}function Gr(){var t;return(t=function(){var t,r,o,i;return t=wr,tn(),(r=function(){var t;return kr++,n.substr(wr,5).toLowerCase()===B?(t=n.substr(wr,5),wr+=5):(t=s,0===kr&&Mr(je)),t===s&&(n.substr(wr,5).toLowerCase()===N?(t=n.substr(wr,5),wr+=5):(t=s,0===kr&&Mr(Ee)),t===s&&("id"===n.substr(wr,2).toLowerCase()?(t=n.substr(wr,2),wr+=2):(t=s,0===kr&&Mr(Le)),t===s&&("url"===n.substr(wr,3).toLowerCase()?(t=n.substr(wr,3),wr+=3):(t=s,0===kr&&Mr(Oe)),t===s&&(n.substr(wr,9).toLowerCase()===R?(t=n.substr(wr,9),wr+=9):(t=s,0===kr&&Mr(Te)),t===s&&(n.substr(wr,10).toLowerCase()===H?(t=n.substr(wr,10),wr+=10):(t=s,0===kr&&Mr(Me)),t===s&&(n.substr(wr,9).toLowerCase()===W?(t=n.substr(wr,9),wr+=9):(t=s,0===kr&&Mr(Pe)),t===s&&(n.substr(wr,10).toLowerCase()===z?(t=n.substr(wr,10),wr+=10):(t=s,0===kr&&Mr(De)),t===s&&(n.substr(wr,11).toLowerCase()===G?(t=n.substr(wr,11),wr+=11):(t=s,0===kr&&Mr(Ie)),t===s&&(n.substr(wr,12).toLowerCase()===V?(t=n.substr(wr,12),wr+=12):(t=s,0===kr&&Mr(Fe)),t===s&&(n.substr(wr,12).toLowerCase()===X?(t=n.substr(wr,12),wr+=12):(t=s,0===kr&&Mr(Be)),t===s&&(n.substr(wr,13).toLowerCase()===U?(t=n.substr(wr,13),wr+=13):(t=s,0===kr&&Mr(Ne)),t===s&&(n.substr(wr,12).toLowerCase()===q?(t=n.substr(wr,12),wr+=12):(t=s,0===kr&&Mr(Re)),t===s&&(n.substr(wr,13).toLowerCase()===$?(t=n.substr(wr,13),wr+=13):(t=s,0===kr&&Mr(He)),t===s&&(n.substr(wr,14).toLowerCase()===Y?(t=n.substr(wr,14),wr+=14):(t=s,0===kr&&Mr(We)),t===s&&(n.substr(wr,15).toLowerCase()===Z?(t=n.substr(wr,15),wr+=15):(t=s,0===kr&&Mr(ze)),t===s&&(n.substr(wr,7).toLowerCase()===K?(t=n.substr(wr,7),wr+=7):(t=s,0===kr&&Mr(Ge)),t===s&&(n.substr(wr,5).toLowerCase()===J?(t=n.substr(wr,5),wr+=5):(t=s,0===kr&&Mr(Ve)),t===s&&(n.substr(wr,10).toLowerCase()===Q?(t=n.substr(wr,10),wr+=10):(t=s,0===kr&&Mr(Xe)))))))))))))))))))),kr--,t===s&&0===kr&&Mr(ke),t}())!==s?(tn(),61===n.charCodeAt(wr)?(o=g,wr++):(o=s,0===kr&&Mr(mt)),o!==s?(tn(),(i=Xr())!==s?(tn(),_r=t,a=r,c=i,u={},"activation"===a.toLowerCase()?u.activation=e.flattenBoolean(c):u[a.toLowerCase().replace("colour","color")]=c,t=u):(wr=t,t=s)):(wr=t,t=s)):(wr=t,t=s),t;var a,c,u}())===s&&(t=function(){var t,e;return kr++,t=wr,tn(),n.substr(wr,8).toLowerCase()===I?(e=n.substr(wr,8),wr+=8):(e=s,0===kr&&Mr(Se)),e===s&&(n.substr(wr,10).toLowerCase()===F?(e=n.substr(wr,10),wr+=10):(e=s,0===kr&&Mr(Ae))),e!==s?(tn(),_r=t,r=e,t={activation:"activate"===r.toLowerCase()}):(wr=t,t=s),kr--,t===s&&0===kr&&Mr(Ce),t;var r}()),t}function Vr(){var t,e,r,o;return kr++,t=wr,34===n.charCodeAt(wr)?(e=tt,wr++):(e=s,0===kr&&Mr(qe)),e!==s?(r=function(){var t,e,r,o;for(t=[],e=wr,r=wr,kr++,34===n.charCodeAt(wr)?(o=tt,wr++):(o=s,0===kr&&Mr(qe)),kr--,o===s?r=void 0:(wr=r,r=s),r!==s?(n.substr(wr,2)===et?(o=et,wr+=2):(o=s,0===kr&&Mr($e)),o===s&&(n.length>wr?(o=n.charAt(wr),wr++):(o=s,0===kr&&Mr(Ye))),o!==s?(_r=e,e=o):(wr=e,e=s)):(wr=e,e=s);e!==s;)t.push(e),e=wr,r=wr,kr++,34===n.charCodeAt(wr)?(o=tt,wr++):(o=s,0===kr&&Mr(qe)),kr--,o===s?r=void 0:(wr=r,r=s),r!==s?(n.substr(wr,2)===et?(o=et,wr+=2):(o=s,0===kr&&Mr($e)),o===s&&(n.length>wr?(o=n.charAt(wr),wr++):(o=s,0===kr&&Mr(Ye))),o!==s?(_r=e,e=o):(wr=e,e=s)):(wr=e,e=s);return t}(),34===n.charCodeAt(wr)?(o=tt,wr++):(o=s,0===kr&&Mr(qe)),o!==s?(_r=t,t=r.join("")):(wr=t,t=s)):(wr=t,t=s),kr--,t===s&&(e=s,0===kr&&Mr(Ue)),t}function Xr(){var t;return kr++,(t=Ur())===s&&(t=Vr()),kr--,t===s&&0===kr&&Mr(Ze),t}function Ur(){var t,e,r;if(t=wr,e=[],nt.test(n.charAt(wr))?(r=n.charAt(wr),wr++):(r=s,0===kr&&Mr(Ke)),r!==s)for(;r!==s;)e.push(r),nt.test(n.charAt(wr))?(r=n.charAt(wr),wr++):(r=s,0===kr&&Mr(Ke));else e=s;return e!==s&&(_r=t,e=e.join("")),e}function qr(){var t,e;return kr++,t=wr,ot.test(n.charAt(wr))?(e=n.charAt(wr),wr++):(e=s,0===kr&&Mr(Qe)),e!==s&&(_r=t),kr--,(t=e)===s&&(e=s,0===kr&&Mr(Je)),t}function $r(){var t,e;return kr++,t=wr,it.test(n.charAt(wr))?(e=n.charAt(wr),wr++):(e=s,0===kr&&Mr(er)),e!==s&&(_r=t),kr--,(t=e)===s&&(e=s,0===kr&&Mr(tr)),t}function Yr(){var t,e,r;return t=wr,e=wr,kr++,n.substr(wr,2)===rt?(r=rt,wr+=2):(r=s,0===kr&&Mr(nr)),kr--,r===s?e=void 0:(wr=e,e=s),e!==s?(n.length>wr?(r=n.charAt(wr),wr++):(r=s,0===kr&&Mr(Ye)),r!==s?(_r=t,t=r):(wr=t,t=s)):(wr=t,t=s),t}function Zr(){var t,e,r,o,i;if(t=wr,(e=function(){var t;return"/*"===n.substr(wr,2)?(t="/*",wr+=2):(t=s,0===kr&&Mr(rr)),t}())!==s){for(r=[],o=Yr();o!==s;)r.push(o),o=Yr();(o=function(){var t;return n.substr(wr,2)===rt?(t=rt,wr+=2):(t=s,0===kr&&Mr(nr)),t}())!==s?(_r=t,i=o,t=e+r.join("")+i):(wr=t,t=s)}else wr=t,t=s;return t}function Kr(){var t;return at.test(n.charAt(wr))?(t=n.charAt(wr),wr++):(t=s,0===kr&&Mr(ar)),t}function Jr(){var t,e,r,o;if(t=wr,(e=function(){var t;return"//"===n.substr(wr,2)?(t="//",wr+=2):(t=s,0===kr&&Mr(or)),t===s&&(35===n.charCodeAt(wr)?(t="#",wr++):(t=s,0===kr&&Mr(ir))),t}())!==s){for(r=[],o=Kr();o!==s;)r.push(o),o=Kr();_r=t,t=e+r.join("")}else wr=t,t=s;return t}function Qr(){var t;return kr++,(t=Jr())===s&&(t=Zr()),kr--,t===s&&0===kr&&Mr(cr),t}function tn(){var t,e;for(t=[],(e=qr())===s&&(e=$r())===s&&(e=Qr());e!==s;)t.push(e),(e=qr())===s&&(e=$r())===s&&(e=Qr());return t}function en(){var t;return(t=function(){var t,e,r,o,i;return t=wr,e=wr,(r=rn())!==s?(46===n.charCodeAt(wr)?(o=".",wr++):(o=s,0===kr&&Mr(lr)),o!==s&&(i=rn())!==s?e=r=[r,o,i]:(wr=e,e=s)):(wr=e,e=s),e!==s&&(_r=t,a=e,e=parseFloat(a.join(""))),e;var a}())===s&&(t=rn()),t}function rn(){var t,e,r;if(t=wr,e=[],ct.test(n.charAt(wr))?(r=n.charAt(wr),wr++):(r=s,0===kr&&Mr(sr)),r!==s)for(;r!==s;)e.push(r),ct.test(n.charAt(wr))?(r=n.charAt(wr),wr++):(r=s,0===kr&&Mr(sr));else e=s;return e!==s&&(_r=t,e=parseInt(e.join(""),10)),e}function nn(){var t,e;return kr++,t=wr,(e=function(){var t,e,r,o;return t=wr,34===n.charCodeAt(wr)?(e=tt,wr++):(e=s,0===kr&&Mr(qe)),e!==s&&(r=on())!==s?(34===n.charCodeAt(wr)?(o=tt,wr++):(o=s,0===kr&&Mr(qe)),o!==s?(_r=t,t=r):(wr=t,t=s)):(wr=t,t=s),t}())!==s&&(_r=t),(t=e)===s&&(t=wr,(e=on())!==s&&(_r=t,e=e.toString()),t=e),kr--,t===s&&(e=s,0===kr&&Mr(dr)),t}function on(){var t;return"true"===n.substr(wr,4).toLowerCase()?(t=n.substr(wr,4),wr+=4):(t=s,0===kr&&Mr(fr)),t===s&&("false"===n.substr(wr,5).toLowerCase()?(t=n.substr(wr,5),wr+=5):(t=s,0===kr&&Mr(hr)),t===s&&("on"===n.substr(wr,2).toLowerCase()?(t=n.substr(wr,2),wr+=2):(t=s,0===kr&&Mr(pr)),t===s&&("off"===n.substr(wr,3).toLowerCase()?(t=n.substr(wr,3),wr+=3):(t=s,0===kr&&Mr(gr)),t===s&&(48===n.charCodeAt(wr)?(t="0",wr++):(t=s,0===kr&&Mr(br)),t===s&&(49===n.charCodeAt(wr)?(t="1",wr++):(t=s,0===kr&&Mr(mr))))))),t}function an(){var t,e;return t=wr,(e=en())!==s&&(_r=t,e=e.toString()),(t=e)===s&&(t=wr,"auto"===n.substr(wr,4).toLowerCase()?(e=n.substr(wr,4),wr+=4):(e=s,0===kr&&Mr(xr)),e!==s&&(_r=t,e=e.toLowerCase()),t=e),t}if((i=f())!==s&&wr===n.length)return i;throw i!==s&&wr<n.length&&Mr({type:"end"}),a=Ar,c=Sr<n.length?n.charAt(Sr):null,u=Sr<n.length?Tr(Sr,Sr+1):Tr(Sr,Sr),new r(r.buildMessage(a,c),a,c,u)}}})?n.apply(e,o):n)||(t.exports=i)},7596:(t,e)=>{"use strict";e.__esModule=!0;var r=Object.freeze({"|||":"empty","...":"empty","---":"empty","->":"directional","=>":"directional","=>>":"directional",">>":"directional",":>":"directional","-x":"directional","<-":"directional","<=":"directional","<<=":"directional","<<":"directional","<:":"directional","x-":"directional",note:"box",box:"box",abox:"box",rbox:"box","<->":"bidirectional","<=>":"bidirectional","<<=>>":"bidirectional","<<>>":"bidirectional","<:>":"bidirectional","--":"nondirectional","==":"nondirectional","..":"nondirectional","::":"nondirectional",alt:"inline_expression",else:"inline_expression",opt:"inline_expression",break:"inline_expression",par:"inline_expression",seq:"inline_expression",strict:"inline_expression",neg:"inline_expression",critical:"inline_expression",ignore:"inline_expression",consider:"inline_expression",assert:"inline_expression",loop:"inline_expression",ref:"inline_expression",exc:"inline_expression"});e.default=function(t){return r[t]}},2940:(t,e)=>{"use strict";function r(t,e,n){e.forEach((function(e){!function(t,e,n){e.forEach((function(o){!function(t,e,r,n){n.forEach((function(n){n(r,t,e)}))}(t,e,o,n),o.arcs&&r(t,o.arcs,n)}))}(t,e,n)}))}e.__esModule=!0,e.default=function(t,e,n){var o,i;return o=t.entities,i=e,o.forEach((function(t){i.forEach((function(e){e(t)}))})),t.arcs&&r(t.entities,t.arcs,n),t}},7597:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0,e.flatten=e.normalize=e.overrideColors=e.swapRTLArc=e.nameAsLabel=void 0;var c=a(r(2940)),u=a(r(361)),s=i(r(6367)),l=a(r(7596)),d=a(r(3975)),f=a(r(5925)),h=0;function p(t){void 0===t.label&&(t.label=t.name)}function g(t){t.label&&(t.label=s.unescapeString(t.label)),t.id&&(t.id=s.unescapeString(t.id))}function b(t){t.label=Boolean(t.label)?t.label:""}function m(t){if((0,d.default)(t.kind)!==t.kind){t.kind=(0,d.default)(t.kind);var e=t.from;t.from=t.to,t.to=e}}function v(t,e){!t.linecolor&&e.arclinecolor&&(t.linecolor=e.arclinecolor),!t.textcolor&&e.arctextcolor&&(t.textcolor=e.arctextcolor),!t.textbgcolor&&e.arctextbgcolor&&(t.textbgcolor=e.arctextbgcolor)}function x(t,e){if(void 0===e&&(e=[]),t&&t.from){var r=e.find((function(e){return e.name===t.from}));r&&v(t,r)}}function y(t){return t.arcs.reduce((function(t,e){return t+(Boolean(e[0].arcs)?y(e[0])+1:0)}),t.arcs.length)}function w(t,e,r,n){var o=[],i=[],a=[];return t.forEach((function(t){if(t.isVirtual=!1,"inline_expression"===(0,l.default)(t.kind)){if(t.depth=e,t.isVirtual=!0,t.arcs){var o=(0,u.default)(t);o.numberofrows=y(o),delete o.arcs,i.push(o),t.arcs.forEach((function(t){a=a.concat(w(t,e+1,o.from,o.to)),t.forEach((function(t){v(t,o)}))})),e>h&&(h=e)}else i.push(t);a.push([{kind:"|||",from:t.from,to:t.to,isVirtual:!0}])}else r&&n&&"empty"===(0,l.default)(t.kind)&&(t.from=r,t.to=n,t.depth=e),i.push(t)})),o.push(i),o.concat(a)}function _(t){return h=0,{options:(0,f.default)(t.options),entities:(0,u.default)(t.entities),arcs:(e=t.arcs,e?e.reduce((function(t,e){return t.concat(w(e,0))}),[]):[]),depth:h+1};var e}e.nameAsLabel=p,e.swapRTLArc=m,e.overrideColors=x,e.normalize=_,e.flatten=function(t){return _((0,c.default)(t,[p,g],[m,x,g,b]))}},3975:(t,e)=>{"use strict";e.__esModule=!0;var r=Object.freeze({"<-":"->","<=":"=>","<<=":"=>>","<<":">>","<:":":>","x-":"-x"});e.default=function(t){return r[t]||t}},5925:(t,e)=>{"use strict";e.__esModule=!0,e.default=function(t){return Object.assign({wordwraparcs:!1,wordwrapentities:!0,wordwrapboxes:!0},t||{})}},3866:(t,e)=>{"use strict";e.__esModule=!0,e.default={LINE_WIDTH:2,FONT_SIZE:12}},9489:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0,e.Thing=void 0;var c=a(r(3866)),u=i(r(1631)),s=i(r(7683)),l=i(r(5930)),d=function(){function t(t){this.interEntitySpacing=160,this.height=34,this.width=100,this.entityXHWM=0,this.entity2x={},t&&(this.interEntitySpacing=160*t,this.width=100*t)}return t.prototype.getX=function(t){return this.entity2x[t]},t.prototype.getDims=function(){return{interEntitySpacing:this.interEntitySpacing,height:this.height,width:this.width,entityXHWM:this.entityXHWM}},t.prototype.getOAndD=function(t,e){return{from:this.getX(t)<this.getX(e)?this.getX(t):this.getX(e),to:this.getX(e)>this.getX(t)?this.getX(e):this.getX(t)}},t.prototype.renderEntities=function(t,e,r){var n=this,o=s.createGroup();return this.entityXHWM=0,this.height=this.getMaxEntityHeight(t,r)+2*c.default.LINE_WIDTH,t.forEach((function(t){o.appendChild(n.renderEntity(t,n.entityXHWM,e,r)),n.setX(t,n.entityXHWM),n.entityXHWM+=n.interEntitySpacing})),o},t.prototype.setX=function(t,e){this.entity2x[t.name]=e+this.width/2},t.prototype.getNoEntityLines=function(t,e,r){return u.splitLabel(t,"entity",this.width,e,r).length},t.prototype.sizeEntityBoxToLabel=function(t,e){var r=Math.min(l.getBBox(t).width+4*c.default.LINE_WIDTH,this.interEntitySpacing/3+e.width);return r>=e.width&&(e.x-=(r-e.width)/2,e.width=r),e},t.prototype.renderEntity=function(t,e,r,n){var o=s.createGroup(),i={x:e||0,y:r||0,width:this.width,height:this.height},a=u.createLabel(Object.assign({kind:"entity"},t),Object.assign({},i,{y:i.y+i.height/2}),n);return o.appendChild(s.createRect(this.sizeEntityBoxToLabel(a,i),{class:"entity",color:t.linecolor,bgColor:t.textbgcolor})),o.appendChild(a),o},t.prototype.getMaxEntityHeight=function(t,e){var r=this,n=t[0],o=2;return t.forEach((function(t){var i=r.getNoEntityLines(t.label,c.default.FONT_SIZE,e);i>o&&(o=i,n=t)})),o>2?Math.max(this.height,l.getBBox(this.renderEntity(n,0,0,e)).height):this.height},t}();e.Thing=d},9824:(t,e)=>{"use strict";e.__esModule=!0,e.get=e.setPrefix=void 0;var r="mscgenjs",n=r;e.setPrefix=function(t){n=r+t},e.get=function(t){return n+(t||"")}},9622:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0,e.getAggregateClass=e.getClass=void 0;var o=n(r(7596)),i=Object.freeze({"|||":"empty-row","...":"omitted-row","---":"comment-row","->":"signal","=>":"method","=>>":"callback",">>":"return",":>":"emphasised","-x":"lost","<-":"signal","<=":"method","<<=":"callback","<<":"return","<:":"emphasised","x-":"lost","<->":"signal","<=>":"method","<<=>>":"callback","<<>>":"return","<:>":"emphasised","--":"signal","==":"method","..":"return","::":"emphasised"});e.getClass=function(t){return i[t]||t},e.getAggregateClass=function(t){return(0,o.default)(t)||t}},7965:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0,e.getMarkerDefs=e.getAttributes=void 0;var o=n(r(5564)),i=n(r(3975)),a={"->":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}{{signal-marker-end}}-{{color}})"}],marker:{name:"signal"}},"<->":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}{{signal-marker-end}}-{{color}})"},{name:"marker-start",value:"url(#{{id}}{{signal-marker-start}}-{{color}})"}],marker:{name:"signal"}},"=>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"}],marker:{name:"callback",end:""}},"<<=>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"},{name:"marker-start",value:"url(#{{id}}callback-l-{{color}})"}],marker:{name:"callback",end:"",start:"-l"}},">>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"}],marker:{name:"callback",end:""}},"<<>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"},{name:"marker-start",value:"url(#{{id}}callback-l-{{color}})"}],marker:{name:"callback",end:"",start:"-l"}},"..":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"--":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"==":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"::":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"=>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"}],marker:{name:"method",end:""}},"<=>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"},{name:"marker-start",value:"url(#{{id}}method-l-{{color}})"}],marker:{name:"method",end:"",start:"-l"}},":>":{attributes:[{name:"style",value:"stroke:{{color}};"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"}],marker:{name:"method",end:""}},"<:>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"},{name:"marker-start",value:"url(#{{id}}method-l-{{color}})"}],marker:{name:"method",end:"",start:"-l"}},"-x":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}lost-{{color}})"}],marker:{name:"lost",end:""}}},c={signal:{variants:[{name:"",path:"M9,3 l-8, 2"},{name:"-u",path:"M9,3 l-8,-2"},{name:"-l",path:"M9,3 l 8, 2"},{name:"-lu",path:"M9,3 l 8,-2"}]},method:{variants:[{name:"",path:"1,1  9,3  1,5"},{name:"-l",path:"17,1 9,3 17,5"}]},callback:{variants:[{name:"",path:"M 1,1 l 8,2 l-8,2"},{name:"-l",path:"M17,1 l-8,2 l 8,2"}]},lost:{variants:[{name:"",path:"M7,0 l5,6 M7,6 l5,-6"}]}};function u(t,e,r){return e&&r&&["<->","->"].includes(t)?e<r?"signal":"signal-u":""}function s(t,e,r){return"<->"===t&&e<=r?"signal-l":"signal-lu"}function l(t,e){return a[(0,i.default)(t)].marker.name+(Boolean(e)?" "+e:" black")}function d(t,e){function r(e){d(t,e)}return Array.isArray(e)&&e.forEach(r),e.arcs&&e.arcs.forEach(r),e.kind&&a[(0,i.default)(e.kind)]&&a[(0,i.default)(e.kind)].marker&&!t.includes(l(e.kind,e.linecolor))&&t.push(l(e.kind,e.linecolor)),t}function f(t){return{kind:t.split(" ")[0],color:t.split(" ")[1]}}e.getAttributes=function(t,e,r,n,o){var i=[];return a[e]&&a[e].attributes&&(i=a[e].attributes.map((function(i){return{name:i.name,value:i.value.replace(/\{\{signal-marker-end\}\}/g,u(e,n,o)).replace(/\{\{signal-marker-start\}\}/g,s(e,n,o)).replace(/\{\{id\}\}/g,t).replace(/\{\{color\}\}/g,r||"black")}}))),i},e.getMarkerDefs=function(t,e){return(0,o.default)(function(t){return t.arcs.reduce(d,[]).sort().map(f)}(e).map((function(e){return c[e.kind].variants.map((function(r){return{name:"".concat(t+e.kind+r.name,"-").concat(e.color),path:r.path,color:e.color,type:e.kind}}))})))}},5533:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0,e.render=e.clean=void 0;var c=a(r(361)),u=a(r(7596)),s=r(7597),l=a(r(3866)),d=r(9489),f=i(r(9824)),h=i(r(9622)),p=i(r(7965)),g=i(r(1631)),b=i(r(5525)),m=i(r(7173)),v=i(r(7621)),x=i(r(7683)),y=i(r(5930)),w=new d.Thing(0),_=Object.seal({arcRowHeight:38,arcGradient:0,arcEndX:0,wordWrapArcs:!1,mirrorEntitiesOnBottom:!1,regularArcTextVerticalAlignment:"middle",maxDepth:0,document:{},layers:{lifeline:{},sequence:{},notes:{},inline:{},watermark:{}}}),C=[];function S(t,e,r){_.layers.sequence.appendChild(w.renderEntities(t,e,r)),_.arcEndX=w.getDims().entityXHWM-w.getDims().interEntitySpacing+w.getDims().width}function A(t,e,r,n,o){var i=x.createGroup();return t.from&&t.to&&("*"===t.to?(function(t,e,r,n,o){var i=0,a=t.label,c=w.getX(t.from);t.label="",e.forEach((function(e){var a={};e.name!==t.from&&(i=w.getX(e.name),a=O(t,c,i,n,o),r.push({layer:_.layers.sequence,element:a}))})),t.label=a}(t,e,r,n,o),i=g.createLabel(t,{x:0,y:v.get(n).y,width:_.arcEndX},Object.assign({alignAround:!0,ownBackground:!0},(0,c.default)(o))),r.push({title:t.title,layer:_.layers.sequence,element:i})):(i=O(t,w.getX(t.from),w.getX(t.to),n,o),r.push({title:t.title,layer:_.layers.sequence,element:i}))),i}function k(t,e,r){var n=0;return t.forEach((function(t){var o;switch((0,u.default)(t.kind)){case"empty":o=L(t,0);break;case"box":o=M(w.getOAndD(t.from,t.to),t,0,r);break;case"inline_expression":o=j(t,0);break;default:var i=(0,c.default)(t);i.arcskip=0,o=A(i,e,[],0,r)}n=Math.max(n,y.getBBox(o).height+2*l.default.LINE_WIDTH)})),n}function j(t,e){var r=w.getOAndD(t.from,t.to),n=e>0,o=2*_.maxDepth*l.default.LINE_WIDTH,i=r.to-r.from+(w.getDims().interEntitySpacing-2*l.default.LINE_WIDTH)-7-l.default.LINE_WIDTH,a=r.from-(w.getDims().interEntitySpacing-3*l.default.LINE_WIDTH-o)/2-2*(_.maxDepth-t.depth)*l.default.LINE_WIDTH,c=x.createGroup();n||(t.label=t.kind+(t.label?": "+t.label:""));var u=g.createLabel(t,{x:a+l.default.LINE_WIDTH-i/2,y:e+_.arcRowHeight/4,width:i},{alignLeft:!0,ownBackground:!1,wordwraparcs:_.wordWrapArcs}),s=y.getBBox(u),d=Math.max(s.height+2*l.default.LINE_WIDTH,_.arcRowHeight/2-2*l.default.LINE_WIDTH),f=Math.min(s.width+2*l.default.LINE_WIDTH,i),h=x.createEdgeRemark({width:f-l.default.LINE_WIDTH+7,height:d,x:a,y:e},{class:"box inline_expression_label",color:t.linecolor,bgColor:t.textbgcolor,foldSize:7});return c.appendChild(h),c.appendChild(u),c}function E(t,e,r,n){return r<_.arcRowHeight&&(r=_.arcRowHeight),t.map((function(t){var o=x.createLine({xFrom:w.getX(t.name),yFrom:0-r/2+(n||0),xTo:w.getX(t.name),yTo:r/2+(n||0)},{class:e});return t.linecolor&&o.setAttribute("style","stroke:".concat(t.linecolor,";")),o}))}function L(t,e){return"---"===t.kind?function(t,e,r){var n=0,o=_.arcEndX,i="comment",a=x.createGroup();if(t.from&&t.to){var c=1*_.maxDepth*l.default.LINE_WIDTH,u=2*(_.maxDepth-t.depth)*l.default.LINE_WIDTH;n=e.from-(w.getDims().interEntitySpacing+2*l.default.LINE_WIDTH)/2-(u-c),o=e.to+(w.getDims().interEntitySpacing+2*l.default.LINE_WIDTH)/2+(u-c),i="inline_expression_divider"}var s=x.createLine({xFrom:n,yFrom:r,xTo:o,yTo:r},{class:i});return a.appendChild(s),a.appendChild(T(t,e,r)),t.linecolor&&s.setAttribute("style","stroke:".concat(t.linecolor,";")),a}(t,w.getOAndD(t.from,t.to),e):T(t,w.getOAndD(t.from,t.to),e)}function O(t,e,r,n,o){var i,a=x.createGroup(),u="arc ";u+="<:>"===(i=t.kind)?"bidi ":"::"===i?"nodi ":"",u+="".concat(h.getAggregateClass(t.kind)," ").concat(h.getClass(t.kind));var s=[":>","::","<:>"].includes(t.kind),d=function(t,e,r){var n=v.get(t).y+e;if(r){var o=Math.floor(r),i=r-o,a=v.get(t).realRowNumber;n=v.getByRealRowNumber(a+o).y+i*(v.getByRealRowNumber(a+o+1).y-v.getByRealRowNumber(a+o).y)}return n}(n,_.arcGradient,t.arcskip);if(e===(r=m.determineArcXTo(t.kind,e,r))){a.appendChild(function(t,e,r,n,o,i){var a=_.arcRowHeight/5*2,c=w.getDims().interEntitySpacing/2,u={},s="arc ".concat(h.getAggregateClass(t)," ").concat(h.getClass(t));if(n){u=x.createGroup();var d=x.createUTurn({x:e,y:o,width:c-2*l.default.LINE_WIDTH,height:a},o+r+a-2*l.default.LINE_WIDTH,{class:s,dontHitHome:"::"!==t,lineWidth:l.default.LINE_WIDTH}),g=x.createUTurn({x:e,y:o,width:c,height:a},o+r+a-l.default.LINE_WIDTH,{lineWidth:l.default.LINE_WIDTH}),b=x.createUTurn({x:e,y:o,width:c,height:a},o+r+a,{class:s,dontHitHome:"::"!==t,lineWidth:l.default.LINE_WIDTH});i&&d.setAttribute("style","stroke:".concat(i)),p.getAttributes(f.get(),t,i,e,e).forEach((function(t){g.setAttribute(t.name,t.value)})),g.setAttribute("style","stroke:transparent;"),Boolean(i)&&b.setAttribute("style","stroke:".concat(i)),u.appendChild(d),u.appendChild(b),u.appendChild(g),u.setAttribute("class",s)}else u=x.createUTurn({x:e,y:o,width:c,height:a},o+r+a,{class:s,dontHitHome:"-x"===t,lineWidth:l.default.LINE_WIDTH}),p.getAttributes(f.get(),t,i,e,e).forEach((function(t){u.setAttribute(t.name,t.value)}));return u}(t.kind,e,d-v.get(n).y-_.arcGradient,s,v.get(n).y,t.linecolor));var b=2*w.getDims().interEntitySpacing/3;a.appendChild(g.createLabel(t,{x:e+1.5*l.default.LINE_WIDTH-b/2,y:v.get(n).y-_.arcRowHeight/5-l.default.LINE_WIDTH/2,width:b},Object.assign({alignLeft:!0,alignAbove:!0,ownBackground:!0},(0,c.default)(o))))}else{var y=x.createLine({xFrom:e,yFrom:v.get(n).y,xTo:r,yTo:d},{class:u,doubleLine:s});p.getAttributes(f.get(),t.kind,t.linecolor,e,r).forEach((function(t){y.setAttribute(t.name,t.value)})),a.appendChild(y),a.appendChild(g.createLabel(t,{x:e,y:v.get(n).y+(d-v.get(n).y)/2,width:r-e},Object.assign({alignAround:!0,alignAbove:"above"===_.regularArcTextVerticalAlignment,ownBackground:!0},(0,c.default)(o))))}return a}function T(t,e,r){var n=0,o=_.arcEndX;return t.from&&t.to&&(n=e.from,o=e.to-e.from),g.createLabel(t,{x:n,y:r,width:o},{ownBackground:!0,wordwraparcs:_.wordWrapArcs})}function M(t,e,r,n){var o,i=2*_.maxDepth*l.default.LINE_WIDTH,a=t.to-t.from+w.getDims().interEntitySpacing-2*l.default.LINE_WIDTH-i,c=t.from-(w.getDims().interEntitySpacing-2*l.default.LINE_WIDTH-i)/2,u=x.createGroup(),s=g.createLabel(e,{x:c,y:r,width:a},n),d=y.getBBox(s),f=Math.max(d.height+2*l.default.LINE_WIDTH,_.arcRowHeight-2*l.default.LINE_WIDTH),h={width:a,height:f,x:c,y:r-f/2};switch(e.kind){case"rbox":o=x.createRBox(h,{class:"box rbox",color:e.linecolor,bgColor:e.textbgcolor});break;case"abox":o=x.createABox(h,{class:"box abox",color:e.linecolor,bgColor:e.textbgcolor});break;case"note":o=x.createNote(h,{class:"box note",color:e.linecolor,bgColor:e.textbgcolor,lineWidth:l.default.LINE_WIDTH});break;default:o=x.createRect(h,{class:"box",color:e.linecolor,bgColor:e.textbgcolor})}return u.appendChild(o),u.appendChild(s),u}e.clean=function(t,e){_.document=b.init(e),y.init(_.document),y.removeRenderedSVGFromElement(t)},e.render=function(t,e,r,n){var o=Object.freeze((0,s.flatten)(t)),i=function(t,e){return t.document.getElementById(e)||t.document.body}(e,r);return f.setPrefix(r),function(t,e,r,n){var o;_.document=b.bootstrap(e,r,f.get(),p.getMarkerDefs(f.get(),t),n),_.mirrorEntitiesOnBottom=n.mirrorEntitiesOnBottom,_.regularArcTextVerticalAlignment=n.regularArcTextVerticalAlignment,y.init(_.document),_.layers={lifeline:(o=_.document).getElementById(f.get("_lifelines")),sequence:o.getElementById(f.get("_sequence")),notes:o.getElementById(f.get("_notes")),inline:o.getElementById(f.get("_arcspans")),watermark:o.getElementById(f.get("_watermark"))},_.maxDepth=t.depth,function(t,e){w=new d.Thing(e&&e.hscale),function(t,e){t.arcRowHeight=38,t.arcGradient=0,t.wordWrapArcs=!1,e.arcgradient&&(t.arcRowHeight=parseInt(e.arcgradient,10)+38,t.arcGradient=parseInt(e.arcgradient,10)+0),t.wordWrapArcs=Boolean(e.wordwraparcs)}(t,e)}(_,t.options)}(o,e,i,n||{}),function(t){var e,r,n;S(t.entities,0,t.options),v.clear(w.getDims().height,_.arcRowHeight),e=t.arcs,r=t.entities,n=t.options,C=[],E(r,"arcrow",_.arcRowHeight,v.get(-1).y).forEach((function(t){_.layers.lifeline.appendChild(t)})),function(t,e,r){var n=0;t.forEach((function(t,o){t.every((function(t){return t.isVirtual}))?v.set(o,Math.max(v.get(o).height,k(t,e,r))):(v.set(o,Math.max(v.get(o).height,k(t,e,r)),n),n++)}))}(e,r,n),e.forEach((function(t,e){!function(t,e,r,n){var o="arcrow",i=[];t.forEach((function(t){var a={};switch((0,u.default)(t.kind)){case"empty":a=L(t,v.get(e).y),"..."===t.kind&&(o="arcrowomit"),i.push({layer:_.layers.sequence,element:a});break;case"box":a=M(w.getOAndD(t.from,t.to),t,v.get(e).y,n),i.push({title:t.title,layer:_.layers.notes,element:a});break;case"inline_expression":a=j(t,v.get(e).y),i.push({layer:_.layers.notes,element:a}),C.push({arc:t,rownum:e});break;default:a=A(t,r,i,e,n)}})),E(r,o,v.get(e).height,v.get(e).y).forEach((function(t){_.layers.lifeline.appendChild(t)})),i.forEach((function(t){t.element&&(t.title&&t.element.appendChild(x.createTitle(t.title)),t.layer.appendChild(t.element))}))}(t,e,r,n)})),C.forEach((function(t){var e,r,n,o;_.layers.inline.appendChild((e=t,r=v.get(t.rownum).y,n=v.get(e.rownum).y,o=v.get(e.rownum+e.arc.numberofrows+1).y-n,e.arc.label="",function(t,e,r,n){var o=2*_.maxDepth*l.default.LINE_WIDTH,i=t.to-t.from+w.getDims().interEntitySpacing-2*l.default.LINE_WIDTH-o,a=t.from-(w.getDims().interEntitySpacing-2*l.default.LINE_WIDTH-o)/2,c=2*(_.maxDepth-e.depth)*l.default.LINE_WIDTH;return x.createRect({width:i+2*c,height:r||_.arcRowHeight-2*l.default.LINE_WIDTH,x:a-c,y:n},{class:"box inline_expression ".concat(e.kind),color:e.linecolor,bgColor:e.textbgcolor})}(w.getOAndD(e.arc.from,e.arc.to),e.arc,o,r)))})),_.mirrorEntitiesOnBottom&&function(t,e){var r=v.getLast().y+(v.getLast().height+_.arcRowHeight)/2;E(t,"arcrow",_.arcRowHeight,r).forEach((function(t){_.layers.lifeline.appendChild(t)})),S(t,r+_.arcRowHeight/2,e)}(t.entities,t.options)}(o),function(t){var e,r,n=function(t){var e=m.determineDepthCorrection(t.depth,l.default.LINE_WIDTH),r=v.getLast(),n={width:t.entities.length*w.getDims().interEntitySpacing+e,height:Boolean(_.mirrorEntitiesOnBottom)?2*w.getDims().height+r.y+r.height+6:r.y+r.height/2+6,horizontaltransform:(w.getDims().interEntitySpacing+e-w.getDims().width)/2,autoscale:!!t.options&&!!t.options.width&&"auto"===t.options.width,verticaltransform:3,scale:1};return n.x=0-n.horizontaltransform,n.y=0-n.verticaltransform,n}(t);e=n,(r=_.document.getElementById(f.get("_background")))&&r.appendChild(x.createRect(e,{class:"bglayer"})),n=function(t,e){return t.watermark&&function(t,e){_.layers.watermark.appendChild(x.createDiagonalText(t,e,"watermark"))}(t.watermark,e),t.width&&"auto"!==t.width&&(e=m.scaleCanvasToWidth(t.width,e)),e}(t.options,n),function(t){var e=_.document.getElementById(f.get()),r=_.document.getElementById(f.get("_body"));r&&e&&(r.setAttribute("transform","translate(".concat(t.horizontaltransform,",").concat(t.verticaltransform,") ")+"scale(".concat(t.scale,",").concat(t.scale,")")),t.autoscale&&!0===t.autoscale?x.updateSVG(e,{width:"100%",height:"100%",viewBox:"0 0 ".concat(t.width.toString()," ").concat(t.height.toString())}):x.updateSVG(e,{width:t.width.toString(),height:t.height.toString(),viewBox:"0 0 ".concat(t.width.toString()," ").concat(t.height.toString())}))}(n)}(o),y.webkitNamespaceBugWorkaround(i.innerHTML)}},1631:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0,e.splitLabel=e.createLabel=void 0;var c=a(r(7596)),u=a(r(5791)),s=a(r(3866)),l=i(r(9622)),d=i(r(7683)),f=i(r(5930));function h(t,e){return e&&t.setAttribute("style","fill:".concat(e,";")),t}function p(t,e,r,n,o){return function(t,e){return function(t,e){return"box"===(0,c.default)(t)&&e}(t,e.wordwrapboxes)||function(t,e){return"entity"===t&&e}(t,e.wordwrapentities)||function(t,e){return"box"!==(0,c.default)(t)&&"entity"!==t&&e}(t,e.wordwraparcs)||void 0===t}(e,o)?(0,u.default)(t,function(t,e){var r=Math.abs(t);return r<=160?r/(e/12*8):r<=320?r/(e/12*6.4):r<=480?r/(e/12*5.9):r/(e/12*5.6)}(r,n)):t.split("\\n")}e.createLabel=function(t,e,r,n){var o=d.createGroup(n);if(r=r||{},t.label){var i=e.x+e.width/2,a=function(t,e){return e.alignAbove&&t.forEach((function(){t.push("")})),e.alignAround&&1===t.length&&t.push(""),t}(p(t.label,t.kind,e.width,s.default.FONT_SIZE,r),r),c=function(t,e,r){return r.alignAround?e.y-(t.length-1)/2*(f.calculateTextHeight()+s.default.LINE_WIDTH+1):e.y-(t.length-1)/2*(f.calculateTextHeight()+1)}(a,e,r);a.forEach((function(e,n){if(""!==e){var a=function(t,e,r,n,o,i){var a,c,u,p=r+(o+1/4)*f.calculateTextHeight(),g=function(t,e){var r=t,n=l.getClass(r),o=l.getAggregateClass(r);return n===o?n+e:o+e+n+e}(n.kind,"-text ");return i.alignLeft&&(g+="anchor-start "),i.alignAround&&(p=r+(o+1/4)*(f.calculateTextHeight()+s.default.LINE_WIDTH)),a=h(function(t,e,r,n,o){var i=0===e?{class:n,url:o.url,id:o.id,idurl:o.idurl}:{class:n,url:o.url};return d.createText(t,r,i)}(t,o,{x:e,y:p},g,n),n.textcolor),c=n.url,u=n.textcolor,h(a,c&&!u?"blue":u)}(e,i,c,t,n,r);r.ownBackground&&o.appendChild((u=a,p=t.textbgcolor,g=d.createRect(f.getBBox(u),{class:"label-text-background"}),p&&g.setAttribute("style","fill:".concat(p,"; stroke:").concat(p,";")),g)),o.appendChild(a)}var u,p,g;c++}))}return o},e.splitLabel=p},5525:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0,e.bootstrap=e.init=void 0;var c=i(r(7683)),u=a(r(3866)),s=r(641),l={};function d(t,e,r){var n=c.createDefs();return n.appendChild(function(t,e){var r=l.createElement("style");return r.setAttribute("type","text/css"),r.appendChild(l.createTextNode(function(t,e){return(r=h(t.additionalTemplate)||{},n=t.styleAdditions,(r.cssBefore||"")+s.baseTemplate+(r.cssAfter||"")+(n||"")).replace(/<%=fontSize%>/g,u.default.FONT_SIZE).replace(/<%=lineWidth%>/g,u.default.LINE_WIDTH).replace(/<%=id%>/g,e);var r,n}(t,e))),r}(r,t)),n=function(t,e){return e.forEach((function(e){"method"===e.type?t.appendChild(c.createMarkerPolygon(e.name,e.path,e.color)):t.appendChild(c.createMarkerPath(e.name,e.path,e.color))})),t}(n,e),n}function f(t){return c.init(t.document,{LINE_WIDTH:u.default.LINE_WIDTH,FONT_SIZE:u.default.FONT_SIZE}),t.document}function h(t){return s.namedStyles.find((function(e){return e.name===t}))}e.init=f,e.bootstrap=function(t,e,r,n,o){l=f(t);var i,a,u=c.createSVG(r,r,function(t){var e="",r=h(t.additionalTemplate);return Boolean(r)&&(e=r.renderMagic),e}(o));return Boolean(o.source)&&u.appendChild(function(t,e){var r=c.createDesc();return r.appendChild(t.document.createTextNode("\n\n# Generated by mscgen_js - https://sverweij.github.io/mscgen_js\n".concat(e))),r}(t,o.source)),u.appendChild(d(r,n,o)),u.appendChild((i=r,(a=c.createGroup("".concat(i,"_body"))).appendChild(c.createGroup("".concat(i,"_background"))),a.appendChild(c.createGroup("".concat(i,"_arcspans"))),a.appendChild(c.createGroup("".concat(i,"_lifelines"))),a.appendChild(c.createGroup("".concat(i,"_sequence"))),a.appendChild(c.createGroup("".concat(i,"_notes"))),a.appendChild(c.createGroup("".concat(i,"_watermark"))),a)),e.appendChild(u),l}},7173:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0,e.determineArcXTo=e.determineDepthCorrection=e.scaleCanvasToWidth=void 0;var o=n(r(361));e.scaleCanvasToWidth=function(t,e){var r=(0,o.default)(e);return r.scale=t/r.width,r.width*=r.scale,r.height*=r.scale,r.horizontaltransform*=r.scale,r.verticaltransform*=r.scale,r.x=0-r.horizontaltransform,r.y=0-r.verticaltransform,r},e.determineDepthCorrection=function(t,e){return t?2*(t+1)*e*2:0},e.determineArcXTo=function(t,e,r){return"-x"===t?e+3/4*(r-e):r}},7621:(t,e)=>{"use strict";e.__esModule=!0,e.set=e.getByRealRowNumber=e.clear=e.getLast=e.get=void 0;var r=[],n=0,o=0;function i(t){return r[t]?r[t]:{y:n+1.5*o+t*o,height:o,realRowNumber:r.length-1}}function a(){return i(r.length-1)}e.get=i,e.getLast=a,e.clear=function(t,e){r=[],n=t,o=e},e.getByRealRowNumber=function(t){var e=r.find((function(e){return e.realRowNumber===t}));return void 0===e&&(e=a()),e},e.set=function(t,e,n){void 0===n&&(n=-1);var o=i(t-1);r[t]={y:o.y+(o.height+e)/2,height:e,realRowNumber:n}}},4431:(t,e)=>{"use strict";e.__esModule=!0,e.init=e.createTextNode=e.createElement=e.setAttributesNS=e.setAttributes=e.setAttributeNS=e.setAttribute=e.XLINKNS=e.SVGNS=void 0,e.SVGNS="http://www.w3.org/2000/svg",e.XLINKNS="http://www.w3.org/1999/xlink";var r={};function n(t,e,r){return Boolean(r)&&t.setAttribute(e,r),t}function o(t,e,r,n){return Boolean(n)&&t.setAttributeNS(e,r,n),t}function i(t,e){return Object.keys(e||{}).forEach((function(r){n(t,r,e[r])})),t}e.setAttribute=n,e.setAttributeNS=o,e.setAttributes=i,e.setAttributesNS=function(t,e,r){return Object.keys(r||{}).forEach((function(n){o(t,e,n,r[n])})),t},e.createElement=function(t,n){return i(r.createElementNS(e.SVGNS,t),n)},e.createTextNode=function(t){return r.createTextNode(t)},e.init=function(t){r=t}},6710:(t,e)=>{"use strict";e.__esModule=!0,e.default=function(t){return 0-360*Math.atan(t.height/t.width)/(2*Math.PI)}},7683:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e};e.__esModule=!0,e.createMarkerPolygon=e.createMarkerPath=e.createGroup=e.createUTurn=e.createLine=e.createDiagonalText=e.createText=e.createEdgeRemark=e.createNote=e.createABox=e.createRBox=e.createRect=e.createTSpan=e.createDefs=e.createDesc=e.createTitle=e.updateSVG=e.createSVG=e.init=void 0;var a=i(r(1718)),c=i(r(9652)),u=i(r(5282)),s=a,l={};e.init=function(t,e){c.init(t),l=Object.assign({LINE_WIDTH:2,FONT_SIZE:12},e)},e.createSVG=function(t,e,r){return s=function(t){return Boolean(t)?"wobbly"===t?u:a:s}(r),c.createSVG(t,e)},e.updateSVG=c.updateSVG,e.createTitle=c.createTitle,e.createDesc=c.createDesc,e.createDefs=c.createDefs,e.createTSpan=c.createTSpan,e.createRect=function(t,e){return s.createRect(t,e)},e.createRBox=function(t,e){return s.createRBox(t,e)},e.createABox=function(t,e){return s.createABox(t,e)},e.createNote=function(t,e){return s.createNote(t,e)},e.createEdgeRemark=function(t,e){return s.createEdgeRemark(t,{class:e.class,color:e.color,bgColor:e.bgColor,foldSize:e.foldSize,lineWidth:l.LINE_WIDTH})},e.createText=c.createText,e.createDiagonalText=c.createDiagonalText,e.createLine=function(t,e){return Boolean(e)&&Boolean(e.doubleLine)?(e.lineWidth||(e.lineWidth=l.LINE_WIDTH),s.createDoubleLine(t,e)):s.createSingleLine(t,e)},e.createUTurn=c.createUTurn,e.createGroup=c.createGroup,e.createMarkerPath=c.createMarkerPath,e.createMarkerPolygon=c.createMarkerPolygon},8103:(t,e)=>{"use strict";e.__esModule=!0,e.default=function(t,e){return e?Math.round(t*Math.pow(10,e))/Math.pow(10,e):Math.round(t)}},1718:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e};e.__esModule=!0,e.createRect=e.createSingleLine=e.createEdgeRemark=e.createABox=e.createRBox=e.createNote=e.createDoubleLine=void 0;var a=i(r(9652)),c=i(r(2344));e.createDoubleLine=function(t,e){var r=e.lineWidth||1,n=r,o=e?e.class:"",i=c.getDirection(t),u=c.determineEndCorrection(t,o,r),s=c.determineStartCorrection(t,o,r),l=(t.xTo-t.xFrom+u-s).toString(),d=(t.yTo-t.yFrom).toString(),f=a.pathPoint2String("l",i.signX,i.dy),h=a.pathPoint2String("l",l,d);return a.createPath(a.pathPoint2String("M",t.xFrom,t.yFrom-7.5*r*i.dy)+f+a.pathPoint2String("M",t.xFrom+s,t.yFrom-n)+h+a.pathPoint2String("M",t.xFrom+s,t.yFrom+n)+h+a.pathPoint2String("M",t.xTo-i.signX,t.yTo+7.5*r*i.dy)+f,e)},e.createNote=function(t,e){var r=e&&e.lineWidth||1,n=Math.max(9,Math.min(4.5*r,t.height/2)),o=n.toString(10);return a.createPath(a.pathPoint2String("M",t.x,t.y)+a.pathPoint2String("l",t.width-n,0)+a.pathPoint2String("l",0,o)+a.pathPoint2String("l",o,0)+a.pathPoint2String("m",-o,-o)+a.pathPoint2String("l",o,o)+a.pathPoint2String("l",0,t.height-n)+a.pathPoint2String("l",-t.width,0)+a.pathPoint2String("l",0,-t.height)+"z",e)},e.createRBox=function(t,e){var r=Object.assign({rx:6,ry:6},e);return a.createRect(t,r)},e.createABox=function(t,e){return a.createPath(a.pathPoint2String("M",t.x,t.y+t.height/2)+a.pathPoint2String("l",3,-t.height/2)+a.pathPoint2String("l",t.width-6,0)+a.pathPoint2String("l",3,t.height/2)+a.pathPoint2String("l",-3,t.height/2)+a.pathPoint2String("l",-(t.width-6),0)+"z",e)},e.createEdgeRemark=function(t,e){var r=e&&e.foldSize?e.foldSize:7,n=Object.assign({class:null,color:null,bgColor:null},e);return a.createPath(a.pathPoint2String("M",t.x,t.y)+a.pathPoint2String("l",t.width,0)+a.pathPoint2String("l",0,t.height-r)+a.pathPoint2String("l",-r,r)+a.pathPoint2String("l",-(t.width-r),0),n)},e.createSingleLine=a.createSingleLine,e.createRect=a.createRect},9652:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0,e.updateSVG=e.init=e.createSVG=e.createDefs=e.createDesc=e.createDiagonalText=e.createTitle=e.createMarkerPolygon=e.createMarkerPath=e.createGroup=e.createUTurn=e.createRect=e.createSingleLine=e.createPath=e.createText=e.createTSpan=e.pathPoint2String=e.point2String=void 0;var c=i(r(4431)),u=a(r(6710)),s=a(r(8103));function l(t){return"".concat((0,s.default)(t.x,2).toString(),",").concat((0,s.default)(t.y,2).toString()," ")}function d(t,e,r){return t+l({x:e,y:r})}function f(t,e,r,n){return c.createElement("marker",{orient:r,id:t,class:e,viewBox:Boolean(n)?n:"0 0 10 10",refX:"9",refY:"3",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10"})}function h(t,e){var r=c.createElement("tspan"),n=c.createTextNode(t);return r.appendChild(n),e?function(t,e){var r=c.createElement("a");return c.setAttributesNS(r,c.XLINKNS,{"xlink:href":t,"xlink:title":t}),r.appendChild(e),r}(e,r):r}function p(t,e,r){var n=Object.assign({class:null,url:null,id:null,idurl:null},r),o=c.createElement("text",{x:(0,s.default)(e.x,2).toString(),y:(0,s.default)(e.y,2).toString(),class:n.class});if(o.appendChild(h(t,n.url)),n.id){var i=h(" [".concat(n.id,"]"),n.idurl);i.setAttribute("style","vertical-align:text-top;font-size:0.7em;text-anchor:start;"),o.appendChild(i)}return o}function g(t,e){var r=Object.assign({class:null,style:null,color:null,bgColor:null},e);return b(c.createElement("path",{d:t,class:r.class,style:r.style}),r.color,r.bgColor)}function b(t,e,r){var n="";return r&&(n+="fill:".concat(r,";")),e&&(n+="stroke:".concat(e,";")),c.setAttribute(t,"style",n)}e.point2String=l,e.pathPoint2String=d,e.createTSpan=h,e.createText=p,e.createPath=g,e.createSingleLine=function(t,e){return c.createElement("line",{x1:(0,s.default)(t.xFrom,2).toString(),y1:(0,s.default)(t.yFrom,2).toString(),x2:(0,s.default)(t.xTo,2).toString(),y2:(0,s.default)(t.yTo,2).toString(),class:e?e.class:null})},e.createRect=function(t,e){var r=Object.assign({class:null,color:null,bgColor:null,rx:null,ry:null},e);return b(c.createElement("rect",{width:(0,s.default)(t.width,2),height:(0,s.default)(t.height,2),x:(0,s.default)(t.x,2),y:(0,s.default)(t.y,2),rx:(0,s.default)(r.rx||0,2),ry:(0,s.default)(r.ry||0,2),class:r.class}),r.color,r.bgColor)},e.createUTurn=function(t,e,r){var n=Object.assign({class:null,dontHitHome:!1,lineWidth:1},r),o=n.dontHitHome?t.x+7.5*(n.lineWidth||1):t.x;return g(d("M",t.x,t.y-t.height/2)+d("C",t.x+t.width,t.y-7.5*(n.lineWidth||1)/2)+l({x:t.x+t.width,y:e+0})+l({x:o,y:e}),{class:n.class})},e.createGroup=function(t,e){return c.createElement("g",{id:t,class:e})},e.createMarkerPath=function(t,e,r){var n=f(t,"arrow-marker","auto");return n.appendChild(g(e,{class:"arrow-style",style:"stroke-dasharray:100,1;stroke:".concat(r)||0})),n},e.createMarkerPolygon=function(t,e,r){var n=f(t,"arrow-marker","auto");return n.appendChild(c.createElement("polygon",{points:e,class:"arrow-style",stroke:r||"black",fill:r||"black"})),n},e.createTitle=function(t){var e=c.createElement("title"),r=c.createTextNode(t);return e.appendChild(r),e},e.createDiagonalText=function(t,e,r){return c.setAttributes(p(t,{x:e.width/2,y:e.height/2},{class:r}),{transform:"rotate(".concat((0,s.default)((0,u.default)(e),2).toString()," ")+"".concat((0,s.default)(e.width/2,2).toString()," ")+"".concat((0,s.default)(e.height/2,2).toString(),")")})},e.createDesc=function(){return c.createElement("desc")},e.createDefs=function(){return c.createElement("defs")},e.createSVG=function(t,e){return c.createElement("svg",{version:"1.1",id:t,class:e,xmlns:c.SVGNS,"xmlns:xlink":c.XLINKNS,width:"0",height:"0"})},e.init=c.init,e.updateSVG=c.setAttributes},2344:(t,e)=>{"use strict";e.__esModule=!0,e.getDirection=e.determineEndCorrection=e.determineStartCorrection=void 0,e.determineStartCorrection=function(t,e,r){var n=0;return!e.includes("nodi")&&e.includes("bidi")&&(n=t.xTo>t.xFrom?7.5*r:-7.5*r),n},e.determineEndCorrection=function(t,e,r){var n=0;return e.includes("nodi")||(n=t.xTo>t.xFrom?-7.5*r:7.5*r),n},e.getDirection=function(t){var e=t.xTo>t.xFrom?1:-1;return{signX:e,signY:t.yTo>t.yFrom?1:-1,dy:e*(t.yTo-t.yFrom)/(t.xTo-t.xFrom)}}},6441:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e};e.__esModule=!0,e.edgeRemark2CurveString=e.doubleLine2CurveString=e.rbox2CurveString=e.abox2CurveString=e.renderNoteCornerString=e.renderNotePathString=void 0;var a=i(r(9652)),c=i(r(2344)),u=r(8913);e.renderNotePathString=function(t,e){return a.pathPoint2String("M",t.x,t.y)+(0,u.line2CurveString)({xFrom:t.x,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y})+a.pathPoint2String("L",t.x+t.width-e,t.y)+(0,u.line2CurveString)({xFrom:t.x+t.width-e,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+e})+a.pathPoint2String("L",t.x+t.width,t.y+e)+(0,u.line2CurveString)({xFrom:t.x+t.width,yFrom:t.y+e,xTo:t.x+t.width,yTo:t.y+t.height})+a.pathPoint2String("L",t.x+t.width,t.y+t.height)+(0,u.line2CurveString)({xFrom:t.x+t.width,yFrom:t.y+t.height,xTo:t.x,yTo:t.y+t.height})+a.pathPoint2String("L",t.x,t.y+t.height)+(0,u.line2CurveString)({xFrom:t.x,yFrom:t.y+t.height,xTo:t.x,yTo:t.y})+a.pathPoint2String("L",t.x,t.y)+"z"},e.renderNoteCornerString=function(t,e){return a.pathPoint2String("M",t.x+t.width-e,t.y)+(0,u.line2CurveString)({xFrom:t.x+t.width-e,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y+e})+a.pathPoint2String("L",t.x+t.width-e,t.y+e)+(0,u.line2CurveString)({xFrom:t.x+t.width-e,yFrom:t.y+e,xTo:t.x+t.width,yTo:t.y+e})+a.pathPoint2String("L",t.x+t.width,t.y+e)},e.abox2CurveString=function(t,e){return a.pathPoint2String("M",t.x,t.y+t.height/2)+(0,u.line2CurveString)({xFrom:t.x,yFrom:t.y+t.height/2,xTo:t.x+e,yTo:t.y})+a.pathPoint2String("L",t.x+e,t.y)+(0,u.line2CurveString)({xFrom:t.x+e,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y})+a.pathPoint2String("L",t.x+t.width-e,t.y)+(0,u.line2CurveString)({xFrom:t.x+t.width-e,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+t.height/2})+a.pathPoint2String("L",t.x+t.width,t.y+t.height/2)+(0,u.line2CurveString)({xFrom:t.x+t.width,yFrom:t.y+t.height/2,xTo:t.x+t.width-e,yTo:t.y+t.height})+a.pathPoint2String("L",t.x+t.width-e,t.y+t.height)+(0,u.line2CurveString)({xFrom:t.x+t.width-e,yFrom:t.y+t.height,xTo:t.x+e,yTo:t.y+t.height})+a.pathPoint2String("L",t.x+e,t.y+t.height)+(0,u.line2CurveString)({xFrom:t.x+e,yFrom:t.y+t.height,xTo:t.x,yTo:t.y+t.height/2})+"z"},e.rbox2CurveString=function(t,e){return a.pathPoint2String("M",t.x,t.y+e)+(0,u.points2CurveString)([{controlX:t.x,controlY:t.y,x:t.x+e,y:t.y}])+(0,u.line2CurveString)({xFrom:t.x+e,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y})+a.pathPoint2String("L",t.x+t.width-e,t.y)+(0,u.points2CurveString)([{controlX:t.x+t.width,controlY:t.y,x:t.x+t.width,y:t.y+e}])+(0,u.line2CurveString)({xFrom:t.x+t.width,yFrom:t.y+e,xTo:t.x+t.width,yTo:t.y+t.height-e})+a.pathPoint2String("L",t.x+t.width,t.y+t.height-e)+(0,u.points2CurveString)([{controlX:t.x+t.width,controlY:t.y+t.height,x:t.x+t.width-e,y:t.y+t.height}])+(0,u.line2CurveString)({xFrom:t.x+t.width-e,yFrom:t.y+t.height,xTo:t.x+e,yTo:t.y+t.height})+a.pathPoint2String("L",t.x+e,t.y+t.height)+(0,u.points2CurveString)([{controlX:t.x,controlY:t.y+t.height,x:t.x,y:t.y+t.height-e}])+(0,u.line2CurveString)({xFrom:t.x,yFrom:t.y+t.height-e,xTo:t.x,yTo:t.y+e})+"z"},e.doubleLine2CurveString=function(t,e){var r=e.lineWidth||1,n=r,o=e?e.class:"",i=c.getDirection(t),s=c.determineEndCorrection(t,o,r),l=c.determineStartCorrection(t,o,r);return a.pathPoint2String("M",t.xFrom,t.yFrom-7.5*r*i.dy)+a.pathPoint2String("l",i.signX,i.dy)+a.pathPoint2String("M",t.xFrom+l,t.yFrom-n)+(0,u.line2CurveString)({xFrom:t.xFrom+l,yFrom:t.yFrom-n,xTo:t.xTo+s,yTo:t.yTo-n})+a.pathPoint2String("M",t.xFrom+l,t.yFrom+n)+(0,u.line2CurveString)({xFrom:t.xFrom+l,yFrom:t.yFrom+n,xTo:t.xTo+s,yTo:t.yTo+n})+a.pathPoint2String("M",t.xTo-i.signX,t.yTo+7.5*r*i.dy)+a.pathPoint2String("l",i.signX,i.dy)},e.edgeRemark2CurveString=function(t,e){return a.pathPoint2String("M",t.x+t.width,t.y)+(0,u.line2CurveString)({xFrom:t.x+t.width,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+t.height-e})+a.pathPoint2String("L",t.x+t.width,t.y+t.height-e)+(0,u.line2CurveString)({xFrom:t.x+t.width,yFrom:t.y+t.height-e,xTo:t.x+t.width-e,yTo:t.y+t.height})+a.pathPoint2String("L",t.x+t.width-e,t.y+t.height)+(0,u.line2CurveString)({xFrom:t.x+t.width-e,yFrom:t.y+t.height,xTo:t.x-1,yTo:t.y+t.height})+a.pathPoint2String("L",t.x-1,t.y+t.height)}},8913:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0,e.getBetweenPoints=e.getNumberOfSegments=e.getLineLength=e.line2CurveString=e.points2CurveString=void 0;var c=a(r(8103)),u=i(r(9652)),s=i(r(2344));function l(t){return t.map((function(t){return"".concat(u.pathPoint2String("S",t.controlX,t.controlY)," ")+"".concat(u.point2String(t))})).join(" ")}function d(t){var e=Math.abs(t.xTo-t.xFrom),r=Math.abs(t.yTo-t.yFrom);return Math.sqrt(e*e+r*r)}function f(t,e){var r=d(t);return r>0?Math.floor(r/e):0}function h(t){return Math.round(2*Math.random()*t)-t}function p(t,e,r){e=function(t,e){if(t<=0)throw new Error("pInterval must be > 0");return Math.min(d(e),t)}(e,t);for(var n,o=[],i=f(t,e),a=s.getDirection(t),u=a.signX*Math.sqrt(Math.pow(e,2)/(1+Math.pow(a.dy,2))),l=a.signY*(Math.abs(a.dy)===1/0?e:Math.sqrt(Math.pow(a.dy,2)*Math.pow(e,2)/(1+Math.pow(a.dy,2)))),p=1;p<=i;p++)e>d({xFrom:(n={controlX:(0,c.default)(t.xFrom+(p-.5)*u+h(r),2),controlY:(0,c.default)(t.yFrom+(p-.5)*l+h(r),2),x:(0,c.default)(t.xFrom+p*u,2),y:(0,c.default)(t.yFrom+p*l,2)}).x,yFrom:n.y,xTo:t.xTo,yTo:t.yTo})&&(n.x=t.xTo,n.y=t.yTo),o.push(n);return o}e.points2CurveString=l,e.line2CurveString=function(t){return l(p(t,70,3))},e.getLineLength=d,e.getNumberOfSegments=f,e.getBetweenPoints=p},5282:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0,e.createDoubleLine=e.createEdgeRemark=e.createRBox=e.createABox=e.createRect=e.createNote=e.createSingleLine=void 0;var c=r(6441),u=r(8913),s=a(r(8103)),l=i(r(9652)),d=i(r(2344));e.createSingleLine=function(t,e){void 0===e&&(e={});var r=d.getDirection(t);return l.createPath(l.pathPoint2String("M",t.xFrom,t.yFrom)+l.pathPoint2String("L",(0,s.default)(t.xFrom+r.signX*Math.sqrt(1/(1+Math.pow(r.dy,2))),2),t.yFrom+r.signY*(Math.abs(r.dy)===1/0?1:(0,s.default)(Math.sqrt(Math.pow(r.dy,2)/(1+Math.pow(r.dy,2))),2)))+(0,u.line2CurveString)(t),e)},e.createNote=function(t,e){var r=e&&e.lineWidth||1,n=Math.max(9,Math.min(4.5*r,t.height/2)),o=l.createGroup();return o.appendChild(l.createPath((0,c.renderNotePathString)(t,n),e)),e.bgColor="transparent",o.appendChild(l.createPath((0,c.renderNoteCornerString)(t,n),e)),o},e.createRect=function(t,e){return l.createPath((0,c.rbox2CurveString)(t,0),e)},e.createABox=function(t,e){return l.createPath((0,c.abox2CurveString)(t,3),e)},e.createRBox=function(t,e){return l.createPath((0,c.rbox2CurveString)(t,6),e)},e.createEdgeRemark=function(t,e){var r=e&&e.lineWidth||1,n=l.createGroup(),o=e&&e.foldSize?e.foldSize:7,i=e&&e.color?e.color:"black";e.color="transparent!important";var a=l.createPath(l.pathPoint2String("M",t.x,t.y+r/2)+l.pathPoint2String("L",t.x+t.width,t.y+r/2)+l.pathPoint2String("L",t.x+t.width,t.y+t.height-o)+l.pathPoint2String("L",t.x+t.width-o,t.y+t.height)+l.pathPoint2String("L",t.x,t.y+t.height)+"z",e);e.bgColor="transparent",e.color=i;var u=l.createPath((0,c.edgeRemark2CurveString)(t,o),e);return n.appendChild(a),n.appendChild(u),n},e.createDoubleLine=function(t,e){return l.createPath((0,c.doubleLine2CurveString)(t,e),{class:e.class})}},5930:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0,e.webkitNamespaceBugWorkaround=e.calculateTextHeight=e.init=e.removeRenderedSVGFromElement=e.getBBox=void 0;var c=a(r(8306)),u=i(r(9824)),s=i(r(7683)),l={},d=u.get("bboxer");function f(t){return"function"==typeof t.getBBox?(e=function(t){var e=l.getElementById(d);(e=e||function(t){var e=s.createSVG(t,u.get());return l.body.appendChild(e),e}(d)).appendChild(t);var r=t.getBBox();return e.removeChild(t),r}(t),r=1e5,Math.abs(e.height)>r||Math.abs(e.width)>r?{height:0,width:0,x:0,y:0}:e):{height:15,width:15,x:2,y:2};var e,r}e.getBBox=f,e.removeRenderedSVGFromElement=function(t){u.setPrefix(t);var e=l.getElementById(u.get());if(Boolean(e)){var r=l.getElementById(t);r?r.removeChild(e):l.body.removeChild(e)}},e.init=function(t){l=t},e.calculateTextHeight=(0,c.default)((function(){return f(s.createText("jy9@",{x:0,y:0})).height})),e.webkitNamespaceBugWorkaround=function(t){return t.replace(/ xlink=/g," xmlns:xlink=").replace(/ href=/g," xlink:href=")}},6367:(t,e)=>{"use strict";e.__esModule=!0,e.escapeString=e.unescapeString=void 0,e.unescapeString=function(t){return t.replace(/\\"/g,'"')},e.escapeString=function(t){return t.replace(/\\"/g,'"').replace(/"/g,'\\"')}},5791:(t,e)=>{"use strict";e.__esModule=!0,e.default=function(t,e){for(var r=0,n=[],o=0,i=0,a=0,c=0,u=t.replace(/[\t\n]+/g," ").replace(/\\n/g,"\n");c<=u.length;)c>=u.length?n.push(u.substring(o,c)):"\n"===u[c]?(r=0,a=c,n.push(u.substring(o,a)),o=a+1):r++>=e&&(-1===(a=u.substring(0,c).lastIndexOf(" "))||a<o?(r=1,a=c,i=c):(r=0,i=a+1),n.push(u.substring(o,a)),o=i),c++;return n}},916:t=>{let e={defaultLanguage:"mscgen",parentElementPrefix:"mscgen_js-parent_",clickable:!1,clickURL:"https://sverweij.github.io/mscgen_js/",loadFromSrcAttribute:!1};t.exports={getConfig(){var t,r;return"undefined"!=typeof mscgen_js_config&&mscgen_js_config&&"object"==typeof mscgen_js_config&&(t=e,r=mscgen_js_config,Object.getOwnPropertyNames(r).forEach((e=>{t[e]=r[e]}))),e}}},9335:(t,e,r)=>{const n=r(115);function o(t,e){let r=t.toString(),n=e-r.length;for(let t=0;t<n;t++)r=` ${r}`;return r}function i(t,e){return`${o(e,3)} ${t}`}function a(t){return t.replace(/</g,"&lt;")}function c(t,e){return[...t].reduce(((t,r,o)=>o===e?t+n.applyTemplate("<span style='text-decoration:underline'>{char}</span>",{char:a(r)}):t+a(r)),"")}t.exports={formatNumber:o,deHTMLize:a,renderError:function(t,e,r){let o=e?n.applyTemplate("<pre><div style='color: #d00'># ERROR on line {line}, column {col} - {message}</div>",{message:r,line:e.start.line,col:e.start.column}):n.applyTemplate("<pre><div style='color: #d00'># ERROR {message}</div>",{message:r});return`${t.split("\n").reduce(((t,r,o)=>Boolean(e)&&o===e.start.line-1?t+n.applyTemplate("<mark>{line}\n</mark>",{line:i(c(r,e.start.column-1),o+1)}):`${t+a(i(r,o+1))}\n`),o)}</pre>`}}},8222:t=>{function e(t,e,r){return`${t.pathname}?lang=${r}&msc=${encodeURIComponent(e)}`}t.exports={toLocationString(t,r,n){let o="# source too long for an URL";return function(t,r,n){return e(t,r,n).length<4094}(t,r,n)&&(o=r),e(t,o,n)}}},115:t=>{t.exports={applyTemplate:function(t,e){let r=t;return e&&Object.keys(e).forEach((t=>{r=r.replace(new RegExp(`{${t}}`,"g"),e[t])})),r}}},641:t=>{"use strict";t.exports=JSON.parse('{"baseTemplate":"svg.<%=id%>{font-family:Helvetica,sans-serif;font-size:<%=fontSize%>px;font-weight:normal;font-style:normal;text-decoration:none;background-color:white;stroke:black;stroke-width:<%=lineWidth%>}.<%=id%> path, .<%=id%> rect{fill:none}.<%=id%> .label-text-background{fill:white;stroke:white;stroke-width:0}.<%=id%> .bglayer{fill:white;stroke:white;stroke-width:0}.<%=id%> line{}.<%=id%> .return, .<%=id%> .comment{stroke-dasharray:5,3}.<%=id%> .inline_expression_divider{stroke-dasharray:10,5}.<%=id%> text{color:inherit;stroke:none;text-anchor:middle}.<%=id%> text.anchor-start{text-anchor:start}.<%=id%> .arrow-marker{overflow:visible}.<%=id%> .arrow-style{stroke-width:1}.<%=id%> .arcrow, .<%=id%> .arcrowomit, .<%=id%> .emphasised{stroke-linecap:butt}.<%=id%> .arcrowomit{stroke-dasharray:2,2}.<%=id%> .box, .<%=id%> .entity{fill:white;stroke-linejoin:round}.<%=id%> .inherit{stroke:inherit;color:inherit}.<%=id%> .inherit-fill{fill:inherit}.<%=id%> .watermark{font-size:48pt;font-weight:bold;opacity:0.14}","namedStyles":[{"name":"basic","description":"Basic","experimental":false,"deprecated":false,"renderMagic":"straight","cssBefore":"","cssAfter":".<%=id%> text.entity-text{text-decoration:underline;}"},{"name":"lazy","description":"Lazy","experimental":false,"deprecated":false,"renderMagic":"straight","cssBefore":"","cssAfter":".<%=id%> text.entity-text{font-weight:bold;}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#FFFFCC}.<%=id%> rect.label-text-background{opacity:0.9}.<%=id%> line.comment,.<%=id%> rect.inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke:grey}"},{"name":"classic","description":"Classic","experimental":false,"deprecated":false,"renderMagic":"straight","cssBefore":"","cssAfter":".<%=id%> text.entity-text{text-decoration:none}.<%=id%> .entity{stroke:none;}.<%=id%> line,.<%=id%> rect,.<%=id%> path{stroke-width:1px}.<%=id%> .arrow-style{stroke-width:2;}.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke-width: 1px}"},{"name":"fountainpen","description":"Fountain pen","experimental":true,"deprecated":false,"renderMagic":"wobbly","cssBefore":"@import \'https://fonts.googleapis.com/css?family=Gochi+Hand\';","cssAfter":"svg.<%=id%>{font-family:\'Gochi Hand\', cursive;font-size:14px;stroke-opacity:0.4;stroke-linecap:round;background-color:transparent}.<%=id%> text{fill:rgba(0,0,128,0.7)}.<%=id%> marker polygon{fill:rgba(0,0,255,0.4);stroke-linejoin:round}.<%=id%> line, .<%=id%> path, .<%=id%> rect, .<%=id%> polygon{stroke:blue !important}.<%=id%> text.entity-text{font-weight:bold;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#FFFFCC;}.<%=id%> .label-text-background{opacity:0}"},{"name":"cygne","description":"Cygne (best with msgenny)","experimental":true,"deprecated":true,"renderMagic":"straight","cssBefore":"","cssAfter":".<%=id%> line, .<%=id%> path{stroke:#00A1DE}.<%=id%> text{fill:#005B82}.<%=id%> .entity,.<%=id%> .box{fill:#00A1DE;stroke:#00A1DE}.<%=id%> text.box-text{fill:white}.<%=id%> text.entity-text{font-weight:bold;fill:white;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#E77B2F;stroke:white}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{fill:white}"},{"name":"pegasse","description":"Pgase (best with msgenny)","experimental":false,"deprecated":true,"renderMagic":"straight","cssBefore":"","cssAfter":".<%=id%> line, .<%=id%> path{stroke:rgba(0, 43, 84, 1)}.<%=id%> text{fill:rgba(0, 43, 84, 1)}.<%=id%> .entity,.<%=id%> .box{fill:rgba(0, 43, 84, 1);stroke:rgba(0, 43, 84, 1)}.<%=id%> text.box-text{fill:white}.<%=id%> text.entity-text{font-weight:bold;fill:white;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:rgba(255, 50, 0, 1);stroke:white}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{fill:white}"},{"name":"grayscaled","description":"Grayscaled (not in IE or Safari)","experimental":true,"deprecated":false,"renderMagic":"straight","cssBefore":"","cssAfter":"svg.<%=id%>{filter:grayscale(1);-webkit-filter:grayscale(1);}"},{"name":"inverted","description":"Inverted (not in IE or Safari)","experimental":true,"deprecated":false,"renderMagic":"straight","cssBefore":"","cssAfter":"svg.<%=id%>{filter:invert(1);-webkit-filter:invert(1);}"},{"name":"noentityboxes","description":"No entity boxes","experimental":false,"deprecated":false,"renderMagic":"straight","cssBefore":"","cssAfter":".<%=id%> .entity{fill:none;stroke:none;}.<%=id%> text.entity-text{text-decoration:underline;}"}]}')}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{const t=r(5150),e=r(2779),n=r(5533),o=r(916),i=r(9335),a=r(8222),c=Object.freeze({"text/x-mscgen":"mscgen","text/x-msgenny":"msgenny","text/x-xu":"xu"});function u(t,e){const r=document.createElement("pre");r.setAttribute("style","color: #d00"),r.textContent=e,t.replaceChildren(r)}function s(t){let e=t.dataset.mirrorEntities;return e&&"true"===e}function l(t){return t.dataset.regularArcTextVerticalAlignment||"middle"}function d(r,u,d=r){let f=function(t){let e=t.dataset.language||c[t.getAttribute("type")];return e||(e=o.getConfig().defaultLanguage),e}(d),h=function(r,n){let o={};try{o="msgenny"===n?e.parse(r):"json"===n?JSON.parse(r):t.parse(r)}catch(t){return t}return o}(u,f);var p;h.entities?function(t,e,r){let i=document.getElementById(e);i.innerHTML="",!0===o.getConfig().clickable&&(i.append(function(t,e,r){let n=document.createElement("a");return n.setAttribute("href",o.getConfig().clickURL+a.toLocationString({pathname:"index.html"},t,e)),n.setAttribute("id",`${r}link`),n.setAttribute("style","text-decoration: none;"),n.setAttribute("title","click to edit in the mscgen_js interpreter"),n}(r.source,r.language,e)),e+="link"),n.clean(e,window),n.render(t,window,e,{source:r.source,additionalTemplate:r.namedStyle,mirrorEntitiesOnBottom:r.mirrorEntities,regularArcTextVerticalAlignment:r.regularArcTextVerticalAlignment})}(h,r.id,{source:u,language:f,mirrorEntities:s(d),namedStyle:(p=d,p.dataset.namedStyle||"basic"),regularArcTextVerticalAlignment:l(d)}):r.innerHTML=i.renderError(u,h.location,h.message)}function f(t){return t.ok?Promise.resolve(t):Promise.reject(new Error(`ERROR: ${t.statusText}`))}function h(t){return t.text()}function p(t){return t.dataset.src||t.getAttribute("src")}function g(t,e,r=t){t.dataset.renderedby="mscgen_js",!o.getConfig().loadFromSrcAttribute&&Boolean(p(t))?u(r,"ERROR: Won't load the chart specified,\nbecause loading from separate files is switched off in the mscgen_js configuration. \n\nSee https://sverweij.github.io/mscgen_js/embed.html#loading-from-separate-files how to enable it."):(function(t,e){t.id||(t.id=o.getConfig().parentElementPrefix+e.toString())}(r,e),function(t){const e=p(t);return e?fetch(e).then(f).then(h):new Promise(((e,r)=>{t.textContent?e(t.textContent):r(new Error("ERROR: this element doesn't contain any text"))}))}(t).then((e=>{d(r,e,t)})).catch((t=>{u(r,t.message)})))}function b(t,e){if(!t.dataset.renderedby)if("SCRIPT"===t.tagName){let r=document.createElement("span");t.after(r),g(t,e,r)}else g(t,e)}function m(){return Math.round(1e9*Math.random())}const v=[...document.querySelectorAll(".mscgen_js"),...[...document.scripts].filter((t=>Boolean(c[t.type]))),...document.querySelectorAll("mscgen")],x=new IntersectionObserver((function(t){t.forEach((t=>{t.isIntersecting&&b(t.target.nextElementSibling,m())}))}),{rootMargin:"100% 0% 100% 0%"});v.forEach((t=>{const e=document.createElement("mscgenjs-marker");t.before(e),x.observe(e)})),window.addEventListener("beforeprint",(()=>{v.forEach((t=>{b(t,m())}))}))})()})();
//# sourceMappingURL=mscgen-inpage.js.map